{"version":3,"sources":["constants.js","services/auth/MicrosoftAuth.js","actions/loading.js","actions/auth.js","reducers/auth.js","reducers/settings.js","services/drives/OneDrive.js","services/indexing/IndexFiles.js","services/indexing/IndexMovies.js","services/indexing/IndexShows.js","services/indexing/IndexSeasons.js","services/indexing/IndexEpisodes.js","services/databases/TMDb.js","services/fetching/FetchAllSeasons.js","services/fetching/FetchAllEpisodes.js","services/Parametrize.js","services/fetching/FetchMovie.js","actions/movies.js","services/fetching/FetchShow.js","actions/shows.js","services/fetching/FetchSeason.js","selectors/shows.js","actions/seasons.js","services/fetching/FetchEpisode.js","selectors/seasons.js","actions/episodes.js","actions/indexing.js","actions/version.js","reducers/indexing.js","reducers/episodes.js","reducers/index.js","reducers/version.js","actions/settings.js","reducers/loading.js","reducers/movies.js","reducers/shows.js","reducers/seasons.js","store.js","serviceWorker.js","services/AutomaticIndexing.js","services/IndexAfterUpdate.js","components/Cover.js","components/HorizontalSlide.js","selectors/movies.js","scenes/ForYou.js","components/ItemGrid.js","components/VerticalSlide.js","components/Nucleo/icons/zoom.jsx","scenes/Movies.js","scenes/NotFound.js","components/Backdrop.js","components/PersonList.js","components/PlyrPlayer/PlyrCaption.js","components/PlyrPlayer/PlyrSource.js","components/PlyrPlayer.js","scenes/Movie.js","scenes/Shows.js","scenes/Show.js","selectors/episodes.js","scenes/Season.js","selectors/people.js","scenes/Person.js","components/Nucleo/icons/add.jsx","components/Nucleo/icons/dropbox.jsx","components/Nucleo/icons/google.jsx","components/Nucleo/icons/microsoft.jsx","components/Banner.js","selectors/auth.js","scenes/Settings.js","scenes/Find.js","components/Nucleo/icons/soundWave.jsx","scenes/Loading.js","components/Nucleo/icons/popcorn.jsx","components/Nucleo/icons/movie.jsx","components/Nucleo/icons/show.jsx","components/Nucleo/icons/gear.jsx","components/Nav.js","App.js","scenes/Welcome.js","components/ScrollToTop.js","index.js"],"names":["AUTOMATIC_INDEXING","PROVIDERS","MICROSOFT","STORAGE_PROVIDERS","ITEM_TYPES","FILE_TYPES","SOURCE","CAPTION","SOURCE_EXTENSIONS","CAPTION_EXTENSIONS","MicrosoftAuth","this","_userAgentApplication","UserAgentApplication","auth","clientId","config","clientID","silentLogIn","userAgentApplication","acquireTokenSilent","scopes","then","response","accessToken","catch","error","console","log","popupLogIn","loginPopup","prompt","process","loadingBegin","caption","type","payload","logInExpired","provider","dispatch","logInFailure","logInBegin","logInSuccess","token","initialState","Object","values","reduce","o","automaticIndexing","OneDrive","_client","Client","init","authProvider","done","client","api","get","itemId","IndexFiles","oneDrive","folderId","_oneDrive","_folderId","children","value","map","item","index","filter","source","fileType","name","file","id","extension","fileExtension","information","fileInformation","mimeType","url","fileName","includes","split","pop","shift","IndexMovies","Promise","movies","movie","all","folder","perform","files","providerId","IndexShows","shows","show","IndexSeasons","seasons","_shows","_seasons","concat","performForShow","season","showId","find","Number","parseInt","IndexEpisodes","episodes","_episodes","performForSeason","handleResponse","episode","seasonId","rp","require","TMDb","query","rateLimiting","uri","base_uri","qs","results","length","seasonNumber","episodeNumber","resolve","setTimeout","api_key","language","headers","json","FetchAllSeasons","_tmdb","tmdb","season_number","FetchAllEpisodes","episode_number","Parametrize","string","_string","toLowerCase","replace","FetchMovie","_movie","findMovie","fetch","path","fetchDetails","fetchCredits","backdropUrl","backdrop_path","overview","posterUrl","poster_path","releaseDate","release_date","runtime","title","trailerLink","movieCredits","cast","castMember","character","gender","profileUrl","profile_path","crew","crewMember","job","fetchMovie","fetchedMovie","updateMovie","removeMovie","FetchShow","_show","findShow","firstAirDate","first_air_date","lastAirDate","last_air_date","fetchShow","fetchedShow","updateShow","removeShow","FetchSeason","showName","_season","airDate","air_date","seasonCredits","showsSelector","state","showSelector","createSelector","fetchSeason","getState","fetchedSeason","updateSeason","removeSeason","FetchEpisode","seasonName","_episode","seasonsSelector","seasonSelector","inProgressSeasonsSelector","undefined","progress","sort","a","b","lastWatched","recentlyWatchedSeasonsSelector","date","getTime","seasonsByShowSelector","toString","seasonsByPersonSelector","seasonsCastMemberSelector","flat","seasonsCrewMemberSelector","fetchEpisode","fetchedEpisode","updateEpisode","removeEpisode","indexBegin","cleanupOldItems","keys","awaitFetching","version","updateVersion","indexSuccess","indexFailure","statusCode","newIds","oldIds","removeAction","forEach","items","fetchAction","lastIndexed","rootReducer","combineReducers","action","settings","indexing","Date","loading","newState","persistReducer","key","storage","whitelist","debug","createStore","persistedReducer","applyMiddleware","thunk","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","newVersionAvailable","onUpdate","onSuccess","AutomaticIndexing","setting","indexAction","_setting","_lastIndexed","_indexAction","getFullYear","getMonth","getDate","IndexAfterUpdate","versionUsedForLastIndex","_versionUsedForLastIndex","Cover","className","src","props","alt","width","Component","HorizontalSlide","Swiper","document","querySelector","spaceBetween","slidesPerView","slidesOffsetBefore","slidesOffsetAfter","grabCursor","to","moviesSelector","movieSelector","inProgressMoviesSelector","recentlyWatchedMoviesSelector","moviesByPersonSelector","moviesCastMemberSelector","moviesCrewMemberSelector","ForYou","oneMonthAgo","setMonth","inProgress","recentlyWatched","classList","add","remove","entries","href","target","rel","onClick","connect","ItemGrid","VerticalSlide","direction","effect","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","history","replaceState","data-history","height","viewBox","xmlns","fill","stroke","strokeLinecap","strokeWidth","x1","x2","y1","y2","cx","cy","r","Movies","innerWidth","NotFound","Backdrop","PersonList","wrapped","setState","people","slice","person","attribute","toggle","bind","PlyrCaption","kind","label","srcLang","ISO6391","getCode","default","PlyrSource","size","PlyrPlayer","player","Plyr","on","event","detail","plyr","currentTime","updateItemAction","component","dataset","preventExit","stop","style","display","exitedAction","fullscreen","exit","endedAction","crossOrigin","playsInline","controls","download","Movie","params","watch","enter","play","finishedMovie","Math","floor","continue","Shows","Show","episodesSelector","episodesBySeasonSelector","Season","watchableEpisodes","episodesWrapped","currentEpisodeNumber","stoppedEpisode","finishedEpisode","disabled","toDateString","toggleEpisodes","personSelector","moviesCast","moviesCrew","seasonsCast","seasonsCrew","personRolesSelector","Set","role","Person","roles","join","points","d","x","y","Banner","text","linkUrl","linkText","authSelector","authTokenSelector","authProviderSelector","authError","some","Settings","notAuthenticated","authenticationExpired","noMediaFound","updateSettings","authenticateMicrosoft","onChange","handleAutomaticIndexingChange","Find","moviesIndex","FlexSearch","showsIndex","URLSearchParams","search","result","autoFocus","placeholder","handleInputChange","strokeMiterlimit","strokeLinejoin","data-made-with","Loading","Nav","App","exact","Welcome","ScrollToTop","prevProps","scrollTo","withRouter","ReactDOM","render","store","persistor","persistStore","basename","getElementById","URL","origin","addEventListener","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"i2BAEaA,EACJ,QADIA,EAEF,UAFEA,EAGJ,QAHIA,EAIH,SAGGC,EAAY,CACvBC,UAAW,aAGAC,EAAiB,eAC3BF,EAAUC,UAAY,YAGZE,EACJ,QADIA,EAEL,OAFKA,EAGH,SAHGA,EAIF,UAGEC,EAAa,CACxBC,OAAQ,SACRC,QAAS,WAGEC,EAAoB,CAAC,MAAO,MAAO,MAAO,QAC1CC,EAAqB,CAAC,O,uBC5B7BC,E,WAMJ,aAAe,oBACbC,KAAKC,sBAAwB,IAAIC,IAAqB,CACpDC,KAAM,CACJC,SAAUL,EAAcM,OAAOC,Y,sDAMnC,OAAON,KAAKO,gB,oCAGC,IAAD,OACZ,OAAOP,KAAKQ,qBAAqBC,mBAAmB,CAClDC,OAAQX,EAAcM,OAAOK,SAC5BC,MAAK,SAAAC,GACN,OAAOA,EAASC,eACfC,OAAM,SAAAC,GAEP,OADAC,QAAQC,IAAIF,GACL,EAAKG,kB,mCAIF,IAAD,OACX,OAAOlB,KAAKQ,qBAAqBW,WAAW,CAC1CT,OAAQX,EAAcM,OAAOK,OAC7BU,OAAQ,mBACPT,MAAK,WACN,OAAO,EAAKH,qBAAqBC,mBAAmB,CAClDC,OAAQX,EAAcM,OAAOK,YAE9BC,MAAK,SAAAC,GACN,OAAOA,EAASC,iB,2CAKlB,OAAOb,KAAKC,0B,KA3CVF,EACGM,OAAS,CACdC,SAAUe,uCACVX,OAAQ,CAAC,YAAa,mBA4CXX,QC9CFuB,EAAe,SAAAC,GAAO,MAAK,CACtCC,KAJ2B,gBAK3BC,QAASF,ICqBEG,EAAe,SAAAC,GAC1B,OAAO,SAAAC,GAAQ,OAAIA,EAASC,EAAaF,EAAU,cAG/CG,EAAa,SAAAH,GAAQ,MAAK,CAC9BH,KAzB0B,eA0B1BC,QAASE,IAGLI,EAAe,SAACJ,EAAUK,GAAX,MAAsB,CACzCR,KA7B4B,iBA8B5BC,QAAS,CAAEE,WAAUK,WAGjBH,EAAe,SAACF,EAAUZ,GAAX,MAAsB,CACzCS,KAjC4B,iBAkC5BC,QAAS,CAAEE,WAAUZ,W,yjBCtCvB,IAAMkB,EAAeC,OAAOC,OAAO7C,GAAW8C,QAAO,SAACC,EAAGV,GAAJ,YAChDU,EADgD,eAElDV,EAAW,CACVK,MAAO,KACPjB,MAAO,UAEP,I,yjBCNJ,IAAMkB,EAAe,CACnBK,kBAAmBjD,G,iCCqBNkD,E,WAvBb,WAAY1B,GAAc,oBACxBb,KAAKwC,QAAUC,IAAOC,KAAK,CACzBC,aAAc,SAAAC,GAAI,OAAIA,EAAK,KAAM/B,M,qDAKnC,OAAOb,KAAK6C,OAAOC,IAAI,2CAA2CC,Q,8BAIlE,OAAO/C,KAAK6C,OAAOC,IAAI,0CAA0CC,Q,+BAG1DC,GACP,OAAOhD,KAAK6C,OAAOC,IAAZ,0BAAmCE,EAAnC,cAAsDD,Q,6BAI7D,OAAO/C,KAAKwC,Y,KC6CDS,E,WA3Db,WAAYC,EAAUC,GAAW,oBAC/BnD,KAAKoD,UAAYF,EACjBlD,KAAKqD,UAAYF,E,sDAGR,IAAD,OACR,OAAOnD,KAAKkD,SAASI,SAAStD,KAAKmD,UAAUxC,MAAK,SAAAC,GAChD,OAAOA,EAAS2C,MAAMC,KAAI,SAAAC,GAAI,OAAI,EAAKC,MAAMD,MAC1CE,QAAO,SAAAC,GAAM,OAAc,MAAVA,U,4BAIlBH,GACJ,IAAMjC,EAAOyB,EAAWY,SAASJ,EAAKK,MACtC,OAAiB,MAAbL,EAAKM,MAAwB,MAARvC,EAChB,KAGF,CACLG,SAAUrC,EAAUC,UACpByE,GAAIP,EAAKO,GACTxC,KAAMA,EACNsC,KAAML,EAAKK,KACXG,UAAWhB,EAAWiB,cAAcT,EAAKK,MACzCK,YAAalB,EAAWmB,gBAAgBX,EAAKK,MAC7CO,SAAUZ,EAAKM,KAAKM,SACpBC,IAAKb,EAAK,mC,+BAyBZ,OAAOzD,KAAKoD,Y,+BAIZ,OAAOpD,KAAKqD,a,gCAzBEkB,GACd,OAAI1E,EAAkB2E,SAASvB,EAAWiB,cAAcK,IAC/C7E,EAAWC,OAElBG,EAAmB0E,SAASvB,EAAWiB,cAAcK,IAE9C7E,EAAWE,QAEX,O,oCAIU2E,GACnB,OAAOA,EAASE,MAAM,KAAKC,Q,sCAGNH,GACrB,OAAOA,EAASE,MAAM,KAAKE,Y,KCjBhBC,E,WA/Bb,WAAY/D,GAAc,oBACxBb,KAAKoD,UAAY,IAAIb,EAAS1B,G,uLAIjBgE,Q,SAAkB7E,KAAKkD,SAAS4B,SAASnE,MAAK,SAAAC,GACzD,OAAOA,EAAS2C,MAAMC,KAAI,SAAAC,GAAI,OAAI,EAAKC,MAAMD,S,+BACtC,SAAAqB,GAAM,OAAIA,EAAOnB,QAAO,SAAAoB,GAAK,OAAc,OAAVA,M,cAFrBC,I,gBAEjBrE,K,yNAGM8C,G,0EACS,MAAfA,EAAKwB,O,yCACA,M,uBAGW,IAAIhC,EAAWjD,KAAKkD,SAAUO,EAAKO,IAAIkB,U,cAArDC,E,yBAEC,CACLxD,SAAUrC,EAAUC,UACpBiC,KAAM/B,EACN2F,WAAY3B,EAAKO,GACjBF,KAAML,EAAKK,KACXqB,MAAOA,I,sIAKT,OAAOnF,KAAKoD,c,KCDDiC,E,WA5Bb,WAAYxE,GAAc,oBACxBb,KAAKoD,UAAY,IAAIb,EAAS1B,G,uLAIjBgE,Q,SAAkB7E,KAAKkD,SAASoC,QAAQ3E,MAAK,SAAAC,GACxD,OAAOA,EAAS2C,MAAMC,KAAI,SAAAC,GAAI,OAAI,EAAKC,MAAMD,S,+BACtC,SAAA6B,GAAK,OAAIA,EAAM3B,QAAO,SAAA4B,GAAI,OAAa,OAATA,M,cAFlBP,I,gBAEjBrE,K,yNAGM8C,G,oEACS,MAAfA,EAAKwB,O,yCACA,M,gCAGF,CACLtD,SAAUrC,EAAUC,UACpBiC,KAAM/B,EACN2F,WAAY3B,EAAKO,GACjBF,KAAML,EAAKK,O,iIAKb,OAAO9D,KAAKoD,c,8kBCqBDoC,G,WA7Cb,WAAY3E,EAAayE,EAAOG,GAAU,oBACxCzF,KAAKoD,UAAY,IAAIb,EAAS1B,GAC9Bb,KAAK0F,OAASJ,EACdtF,KAAK2F,SAAWF,E,4LAIT,IAAGG,O,yBAAgBf,QAAQG,IAChChF,KAAKsF,MAAM9B,KAAI,SAAA+B,GAAI,OAAI,EAAKM,eAAeN,EAAM,EAAKE,a,qRAIrCF,EAAME,G,iFACZzF,KAAKkD,SAASI,SAASiC,EAAKH,YAAYzE,MAAK,SAAAC,GACxD,OAAO6E,EAAQ9B,QAAO,SAAAmC,GAAM,OAAIA,EAAOC,SAAWR,EAAKvB,MAAIR,KAAI,SAAAsC,GAC7D,IAAMrC,EAAO7C,EAAS2C,MAAMyC,MAAK,SAAAvC,GAC/B,OAAOqC,EAAO9B,KAAP,UAAiBuB,EAAKvB,GAAtB,YAA4BiC,OAAOC,SAASzC,EAAKK,UAG1D,OAAIL,EACK,MACFqC,EADL,CAEEnE,SAAUrC,EAAUC,UACpB6F,WAAY3B,EAAKO,KAGZ8B,Q,gLAOb,OAAO9F,KAAKoD,Y,4BAIZ,OAAOpD,KAAK0F,S,8BAIZ,OAAO1F,KAAK2F,a,skBCuBDQ,G,WA9Db,WAAYtF,EAAa4E,EAASW,GAAW,oBAC3CpG,KAAKoD,UAAY,IAAIb,EAAS1B,GAC9Bb,KAAK2F,SAAWF,EAChBzF,KAAKqG,UAAYD,E,4LAIV,IAAGR,O,yBAAgBf,QAAQG,IAChChF,KAAKyF,QAAQjC,KAAI,SAAAsC,GAAM,OAAI,EAAKQ,iBAAiBR,EAAQ,EAAKM,c,uRAI3CN,EAAQM,G,gFACzBN,EAAOV,W,gCACIpF,KAAKkD,SAASI,SAASwC,EAAOV,YACxCzE,MAAK,SAAAC,GAAQ,OAAI,EAAK2F,eAAe3F,EAAUkF,EAAQM,M,wEAEnDA,EAASzC,QAAO,SAAA6C,GAAO,OAAIA,EAAQC,WAAaX,EAAO9B,O,uLAI7CpD,EAAUkF,EAAQM,G,4FACxBvB,QAAQG,IACnBoB,EAASzC,QAAO,SAAA6C,GAAO,OAAIA,EAAQC,WAAaX,EAAO9B,MACpDR,KAAI,SAAAgD,GACH,OAAO,EAAK9C,MACV8C,EACA5F,EAAS2C,MAAMyC,MAAK,SAAAvC,GAClB,OAAO+C,EAAQxC,KAAR,UAAkB8B,EAAO9B,GAAzB,YAA+BiC,OAAOC,SAASzC,EAAKK,e,mNAO3D0C,EAAS/C,G,2EACfA,E,gCACkB,IAAIR,EAAWjD,KAAKkD,SAAUO,EAAKO,IAAIkB,U,cAArDC,E,+BAEDqB,E,CACH7E,SAAUrC,EAAUC,UACpB6F,WAAY3B,EAAKO,GACjBmB,MAAOA,K,gCAGFqB,G,wIAKT,OAAOxG,KAAKoD,Y,8BAIZ,OAAOpD,KAAK2F,W,+BAIZ,OAAO3F,KAAKqG,c,kkBCjEhB,IAAMK,GAAKC,EAAQ,KAEbC,G,2IAcYC,G,iFACRD,EAAKE,e,gCACJJ,GAAG,MACLE,EAAKvG,OADD,CAEP0G,IAAI,GAAD,OAAKH,EAAKI,SAAV,iBACHC,GAAG,MAAKL,EAAKvG,OAAO4G,GAAlB,CAAsBJ,aACvBlG,MAAK,SAAAC,GACN,OAAIA,EAASsG,QAAQC,OAAS,EACrB,KAGFvG,EAASsG,QAAQ,GAAGlD,O,0KAIhB6C,G,iFACPD,EAAKE,e,gCACJJ,GAAG,MACLE,EAAKvG,OADD,CAEP0G,IAAI,GAAD,OAAKH,EAAKI,SAAV,cACHC,GAAG,MAAKL,EAAKvG,OAAO4G,GAAlB,CAAsBJ,aACvBlG,MAAK,SAAAC,GACN,OAAIA,EAASsG,QAAQC,OAAS,EACrB,KAGFvG,EAASsG,QAAQ,GAAGlD,O,uKAInBA,G,iFACJ4C,EAAKE,e,gCACJJ,GAAG,MAAIE,EAAKvG,OAAV,CAAkB0G,IAAI,GAAD,OAAKH,EAAKI,SAAV,kBAA4BhD,O,8KAGzCA,G,iFACX4C,EAAKE,e,gCACJJ,GAAG,MAAIE,EAAKvG,OAAV,CAAkB0G,IAAI,GAAD,OAAKH,EAAKI,SAAV,kBAA4BhD,EAA5B,gB,sKAGrBA,G,iFACH4C,EAAKE,e,gCACJJ,GAAG,MAAIE,EAAKvG,OAAV,CAAkB0G,IAAI,GAAD,OAAKH,EAAKI,SAAV,eAAyBhD,O,wKAG5C+B,EAAQqB,G,iFACbR,EAAKE,e,gCACJJ,GAAG,MACLE,EAAKvG,OADD,CAEP0G,IAAI,GAAD,OAAKH,EAAKI,SAAV,eAAyBjB,EAAzB,mBAA0CqB,O,iLAI7BrB,EAAQqB,G,iFACpBR,EAAKE,e,gCACJJ,GAAG,MACLE,EAAKvG,OADD,CAEP0G,IAAI,GAAD,OAAKH,EAAKI,SAAV,eAAyBjB,EAAzB,mBAA0CqB,EAA1C,gB,2KAIOrB,EAAQqB,EAAcC,G,iFAC5BT,EAAKE,e,gCACJJ,GAAG,MACLE,EAAKvG,OADD,CAEP0G,IAAK,UAAGH,EAAKI,SAAR,eAAuBjB,EAAvB,mBAAwCqB,EAAxC,uBACIC,O,uQAOL,IAAIxC,SAAQ,SAAAyC,GAAO,OAAIC,WAAWD,EAAS,Q,wGAvF/CV,GACGvG,OAAS,CACd4G,GAAI,CACFO,QAASnG,mCACToG,SAAU,SAEZC,QAAS,CACP,aAAc,mBAEhBC,MAAM,GATJf,GAYGI,SAAW,+BA+ELJ,UC1DAgB,G,WA9Bb,WAAYtC,GAAQ,oBAClBtF,KAAK0F,OAASJ,EACdtF,KAAK6H,MAAQ,IAAIjB,G,4LAIV,IAAGhB,O,yBAAgBf,QAAQG,IAChChF,KAAKsF,MAAM9B,KAAI,SAAA+B,GACb,OAAO,EAAKuC,KAAKvC,KAAKA,EAAKvB,IAAIrD,MAAK,SAAAC,GAClC,OAAOA,EAAS6E,QAAQjC,KAAI,SAAAsC,GAAM,MAAK,CACrC9B,GAAG,GAAD,OAAKuB,EAAKvB,GAAV,YAAgB8B,EAAOiC,eACzBvG,KAAM/B,EACN2H,aAActB,EAAOiC,cACrBhC,OAAQR,EAAKvB,GACboB,WAAY,gB,mOAQpB,OAAOpF,KAAK0F,S,2BAIZ,OAAO1F,KAAK6H,U,KCKDG,G,WA/Bb,WAAYvC,GAAU,oBACpBzF,KAAK2F,SAAWF,EAChBzF,KAAK6H,MAAQ,IAAIjB,G,4LAIV,IAAGhB,O,yBAAgBf,QAAQG,IAChChF,KAAKyF,QAAQjC,KAAI,SAAAsC,GACf,OAAO,EAAKgC,KAAKhC,OAAOA,EAAOC,OAAQD,EAAOsB,cAC3CzG,MAAK,SAAAC,GACJ,OAAOA,EAASwF,SAAS5C,KAAI,SAAAgD,GAAO,MAAK,CACvCxC,GAAG,GAAD,OAAK8B,EAAO9B,GAAZ,YAAkBwC,EAAQyB,gBAC5BzG,KAAM/B,EACN4H,cAAeb,EAAQyB,eACvBxB,SAAUX,EAAO9B,GACjBoB,WAAY,gB,qOAQtB,OAAOpF,KAAK2F,W,2BAIZ,OAAO3F,KAAK6H,U,KClBDK,G,WAbb,WAAYC,GAAS,oBACnBnI,KAAKoI,QAAUD,E,sDAIf,OAAOnI,KAAKmI,OAAOE,cAAcC,QAAQ,MAAO,O,6BAIhD,OAAOtI,KAAKoI,Y,KCkEDG,G,WAxEb,WAAYxD,GAAQ,oBAClB/E,KAAKwI,OAASzD,EACd/E,KAAK6H,MAAQ,IAAIjB,G,sDAGR,IAAD,OACR,OAAO5G,KAAK8H,KAAKW,UAAUzI,KAAK+E,MAAMjB,MACnCnD,MAAK,SAAAqD,GAAE,OAAI,EAAK0E,MAAM1E,Q,qEAGfA,G,oEACVhE,KAAK+E,MAAMf,GAAKA,EAChBhE,KAAK+E,MAAM4D,KAAX,qBAAgC3I,KAAK+E,MAAMf,IAErB,OAAlBhE,KAAK+E,MAAMf,G,iEAITa,QAAQG,IAAI,CAChBhF,KAAK4I,eACL5I,KAAK6I,iB,gCAGA7I,KAAK+E,O,4IAGE,IAAD,OACb,OAAO/E,KAAK8H,KAAK/C,MAAM/E,KAAK+E,MAAMf,IAC/BrD,MAAK,SAAAC,GACJ,EAAKmE,MAAM+D,YAAX,6CACwClI,EAASmI,eACjD,EAAKhE,MAAMiE,SAAWpI,EAASoI,SAC/B,EAAKjE,MAAMkE,UAAX,6CACwCrI,EAASsI,aACjD,EAAKnE,MAAMoE,YAAcvI,EAASwI,aAClC,EAAKrE,MAAMsE,QAAUzI,EAASyI,QAC9B,EAAKtE,MAAMjB,KAAOlD,EAAS0I,MAC3B,EAAKvE,MAAMwE,YACT,0DACG,IAAIrB,GAAY,EAAKnD,MAAMjB,MAAMoB,UADpC,0B,qCAKQ,IAAD,OACb,OAAOlF,KAAK8H,KAAK0B,aAAaxJ,KAAK+E,MAAMf,IACtCrD,MAAK,SAAAC,GACJ,EAAKmE,MAAM0E,KAAO7I,EAAS6I,KAAKjG,KAAI,SAAAkG,GAAU,MAAK,CACjD1F,GAAI0F,EAAW1F,GACf2F,UAAWD,EAAWC,UACtB7F,KAAM4F,EAAW5F,KACjB8F,OAAQF,EAAWE,OACnBC,WAAW,sCAAD,OAAwCH,EAAWI,kBAE/D,EAAK/E,MAAMgF,KAAOnJ,EAASmJ,KAAKvG,KAAI,SAAAwG,GAAU,MAAK,CACjDhG,GAAIgG,EAAWhG,GACfiG,IAAKD,EAAWC,IAChBnG,KAAMkG,EAAWlG,KACjB8F,OAAQI,EAAWJ,OACnBC,WAAW,sCAAD,OAAwCG,EAAWF,uB,4BAMnE,OAAO9J,KAAKwI,S,2BAIZ,OAAOxI,KAAK6H,U,KCnEHqC,GAAa,SAAbA,EAAanF,GACxB,OAAO,SAAAnD,GACL,OAAO,IAAI2G,GAAWxD,GAAOG,UAAUvE,MAAK,SAAAwJ,GAC1CvI,EAASwI,GAAYD,OACpBrJ,OAAM,kBAAMc,EAASsI,EAAWnF,SAI1BsF,GAAc,SAAArG,GAAE,MAAK,CAChCxC,KAZ0B,eAa1BC,QAASuC,IAGEoG,GAAc,SAAArF,GAAK,MAAK,CACnCvD,KAhB0B,eAiB1BC,QAASsD,IC8BIuF,G,WA/Cb,WAAY/E,GAAO,oBACjBvF,KAAKuK,MAAQhF,EACbvF,KAAK6H,MAAQ,IAAIjB,G,sDAGR,IAAD,OACR,OAAO5G,KAAK8H,KAAK0C,SAASxK,KAAKuF,KAAKzB,MAAMnD,MAAK,SAAAqD,GAAE,OAAI,EAAK0E,MAAM1E,Q,qEAGtDA,G,oEACVhE,KAAKuF,KAAKvB,GAAKA,EACfhE,KAAKuF,KAAKoD,KAAV,oBAA8B3I,KAAKuF,KAAKvB,IAEnB,OAAjBhE,KAAKuF,KAAKvB,G,iEAIRa,QAAQG,IAAI,CAChBhF,KAAK4I,iB,gCAGA5I,KAAKuF,M,4IAGE,IAAD,OACb,OAAOvF,KAAK8H,KAAKvC,KAAKvF,KAAKuF,KAAKvB,IAC7BrD,MAAK,SAAAC,GACJ,EAAK2E,KAAKuD,YAAV,6CACwClI,EAASmI,eACjD,EAAKxD,KAAKkF,aAAe7J,EAAS8J,eAClC,EAAKnF,KAAKoF,YAAc/J,EAASgK,cACjC,EAAKrF,KAAKzB,KAAOlD,EAASkD,KAC1B,EAAKyB,KAAKyD,SAAWpI,EAASoI,SAC9B,EAAKzD,KAAK0D,UAAV,6CACwCrI,EAASsI,kB,2BAKrD,OAAOlJ,KAAKuK,Q,2BAIZ,OAAOvK,KAAK6H,U,KCzCHgD,GAAY,SAAZA,EAAYtF,GACvB,OAAO,SAAA3D,GACL,OAAO,IAAI0I,GAAU/E,GAAML,UAAUvE,MAAK,SAAAmK,GACxClJ,EAASmJ,GAAWD,OACnBhK,OAAM,kBAAMc,EAASiJ,EAAUtF,SAIzByF,GAAa,SAAAhH,GAAE,MAAK,CAC/BxC,KAZyB,cAazBC,QAASuC,IAGE+G,GAAa,SAAAxF,GAAI,MAAK,CACjC/D,KAhByB,cAiBzBC,QAAS8D,ICmDI0F,G,WAnEb,WAAYlF,EAAQmF,EAAUpF,GAAS,oBACrC9F,KAAKuK,MAAQ,CAAEvG,GAAI+B,EAAQjC,KAAMoH,GACjClL,KAAKmL,QAAUrF,EACf9F,KAAK6H,MAAQ,IAAIjB,G,uKAIjB5G,KAAK8F,OAAO9B,GAAZ,UAAoBhE,KAAKuF,KAAKvB,GAA9B,YAAoChE,KAAK8F,OAAOsB,cAChDpH,KAAK8F,OAAO6C,KAAZ,sBAAkC3I,KAAK8F,OAAO9B,I,SAExCa,QAAQG,IAAI,CAChBhF,KAAK4I,eACL5I,KAAK6I,iB,gCAGA7I,KAAK8F,Q,2IAGE,IAAD,OACb,OAAO9F,KAAK8H,KAAKhC,OAAO9F,KAAKuF,KAAKvB,GAAIhE,KAAK8F,OAAOsB,cAC/CzG,MAAK,SAAAC,GACJ,EAAKkF,OAAOsF,QAAUxK,EAASyK,SAC/B,EAAKvF,OAAOhC,KAAOlD,EAASkD,KAC5B,EAAKgC,OAAOkD,SAAWpI,EAASoI,SAChC,EAAKlD,OAAOmD,UAAZ,6CACwCrI,EAASsI,aACjD,EAAKpD,OAAOyD,YACV,0DACG,IAAIrB,GAAY,EAAK3C,KAAKzB,MAAMoB,UADnC,eAEG,IAAIgD,GAAY,EAAKpC,OAAOhC,MAAMoB,UAFrC,KAGA,oC,qCAIQ,IAAD,OACb,OAAOlF,KAAK8H,KAAKwD,cAActL,KAAKuF,KAAKvB,GAAIhE,KAAK8F,OAAOsB,cACtDzG,MAAK,SAAAC,GACJ,EAAKkF,OAAO2D,KAAO7I,EAAS6I,KAAKjG,KAAI,SAAAkG,GAAU,MAAK,CAClD1F,GAAI0F,EAAW1F,GACf2F,UAAWD,EAAWC,UACtB7F,KAAM4F,EAAW5F,KACjB8F,OAAQF,EAAWE,OACnBC,WAAW,sCAAD,OAAwCH,EAAWI,kBAE/D,EAAKhE,OAAOiE,KAAOnJ,EAASmJ,KAAKvG,KAAI,SAAAwG,GAAU,MAAK,CAClDhG,GAAIgG,EAAWhG,GACfiG,IAAKD,EAAWC,IAChBnG,KAAMkG,EAAWlG,KACjB8F,OAAQI,EAAWJ,OACnBC,WAAW,sCAAD,OAAwCG,EAAWF,uB,2BAMnE,OAAO9J,KAAKuK,Q,6BAIZ,OAAOvK,KAAKmL,U,2BAIZ,OAAOnL,KAAK6H,U,cCjEV0D,GAAgB,SAAAC,GAAK,OAAIA,EAAMlG,OAExBmG,GAAe,SAAAzH,GAC1B,OAAO0H,aACLH,IACA,SAAAjG,GAAK,OAAIA,EAAMtB,OCAN2H,GAAc,SAAdA,EAAc7F,GACzB,OAAO,SAAClE,EAAUgK,GAChB,IAAMrG,EAAOkG,GAAa3F,EAAOC,OAApB0F,CAA4BG,KACzC,OAAO,IAAIX,GACT1F,EAAKvB,GACLuB,EAAKzB,KACLgC,GACAZ,UAAUvE,MAAK,SAAAkL,GACfjK,EAASkK,GAAaD,OACrB/K,OAAM,kBAAMc,EAAS+J,EAAY7F,SAI3BiG,GAAe,SAAA/H,GAAE,MAAK,CACjCxC,KAjB2B,gBAkB3BC,QAASuC,IAGE8H,GAAe,SAAAhG,GAAM,MAAK,CACrCtE,KArB2B,gBAsB3BC,QAASqE,IC4BIkG,G,WApDb,WACEjG,EACAmF,EACA9D,EACA6E,EACAzF,GACC,oBACDxG,KAAKuK,MAAQ,CAAEvG,GAAI+B,EAAQjC,KAAMoH,GACjClL,KAAKmL,QAAU,CAAE/D,eAActD,KAAMmI,GACrCjM,KAAKkM,SAAW1F,EAChBxG,KAAK6H,MAAQ,IAAIjB,G,uKAIjB5G,KAAKwG,QAAQxC,GACX,UAAGhE,KAAKuF,KAAKvB,GAAb,YAAmBhE,KAAK8F,OAAOsB,aAA/B,eACGpH,KAAKwG,QAAQa,e,SAEZxC,QAAQG,IAAI,CAChBhF,KAAK4I,iB,gCAGA5I,KAAKwG,S,2IAGE,IAAD,OACb,OAAOxG,KAAK8H,KAAKtB,QACfxG,KAAKuF,KAAKvB,GAAIhE,KAAK8F,OAAOsB,aAAcpH,KAAKwG,QAAQa,eACrD1G,MAAK,SAAAC,GACL,EAAK4F,QAAQ4E,QAAUxK,EAASyK,SAChC,EAAK7E,QAAQ1C,KAAOlD,EAASkD,KAC7B,EAAK0C,QAAQwC,SAAWpI,EAASoI,c,2BAKnC,OAAOhJ,KAAKuK,Q,6BAIZ,OAAOvK,KAAKmL,U,8BAIZ,OAAOnL,KAAKkM,W,2BAIZ,OAAOlM,KAAK6H,U,KCjDVsE,GAAkB,SAAAX,GAAK,OAAIA,EAAM/F,SAE1B2G,GAAiB,SAAApI,GAC5B,OAAO0H,aACLS,IACA,SAAA1G,GAAO,OAAIA,EAAQzB,OAIVqI,GAA4B,WACvC,OAAOX,aACLS,IACA,SAAA1G,GACE,OAAOvD,OAAOC,OAAOsD,GAAS9B,QAAO,SAAAmC,GACnC,YAA2BwG,IAApBxG,EAAOyG,UAA8C,IAApBzG,EAAOyG,YAC9CC,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEE,YAAcD,EAAEC,aAAgB,EAAI,SAKlDC,GAAiC,SAAAC,GAC5C,OAAOnB,aACLS,IACA,SAAA1G,GACE,OAAOvD,OAAOC,OAAOsD,GAAS9B,QAAO,SAAAmC,GACnC,OAAOA,EAAO6G,aAAeE,EAAKC,iBACXR,IAApBxG,EAAOyG,UAA8C,IAApBzG,EAAOyG,aAC1CC,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEE,YAAcD,EAAEC,aAAgB,EAAI,SAKlDI,GAAwB,SAAAhH,GACnC,OAAO2F,aACLS,IACA,SAAA1G,GACE,OAAOvD,OAAOC,OAAOsD,GAClB9B,QAAO,SAAAmC,GAAM,OAAIA,EAAOC,OAAOiH,aAAejH,SAK1CkH,GAA0B,SAAAjJ,GACrC,OAAO0H,aACLS,IACA,SAAA1G,GACE,OAAOvD,OAAOC,OAAOsD,GAAS9B,QAAO,SAAAmC,GACnC,OAAOA,EAAO2D,KAAKzD,MAAK,SAAA0D,GAAU,OAAIA,EAAW1F,KAAOA,MACtD8B,EAAOiE,KAAK/D,MAAK,SAAAgE,GAAU,OAAIA,EAAWhG,KAAOA,YAM9CkJ,GAA4B,SAAAlJ,GACvC,OAAO0H,aACLS,IACA,SAAA1G,GACE,OAAOvD,OAAOC,OAAOsD,GAASjC,KAAI,SAAAsC,GAAM,OAAIA,EAAO2D,QAAM0D,OACtDxJ,QAAO,SAAA+F,GAAU,OAAIA,EAAW1F,KAAOA,SAKnCoJ,GAA4B,SAAApJ,GACvC,OAAO0H,aACLS,IACA,SAAA1G,GACE,OAAOvD,OAAOC,OAAOsD,GAASjC,KAAI,SAAAsC,GAAM,OAAIA,EAAOiE,QAAMoD,OACtDxJ,QAAO,SAAAqG,GAAU,OAAIA,EAAWhG,KAAOA,SC/DnCqJ,GAAe,SAAfA,EAAe7G,GAC1B,OAAO,SAAC5E,EAAUgK,GAChB,IAAM9F,EAASsG,GAAe5F,EAAQC,SAAvB2F,CAAiCR,KAC1CrG,EAAOkG,GAAa3F,EAAOC,OAApB0F,CAA4BG,KACzC,OAAO,IAAII,GACTzG,EAAKvB,GACLuB,EAAKzB,KACLgC,EAAOsB,aACPtB,EAAOhC,KACP0C,GACAtB,UAAUvE,MAAK,SAAA2M,GACf1L,EAAS2L,GAAcD,OACtBxM,OAAM,kBAAMc,EAASyL,EAAa7G,SAI5BgH,GAAgB,SAAAxJ,GAAE,MAAK,CAClCxC,KApB4B,iBAqB5BC,QAASuC,IAGEuJ,GAAgB,SAAA/G,GAAO,MAAK,CACvChF,KAxB4B,iBAyB5BC,QAAS+E,ICVE9C,GAAQ,WACnB,OAAO,SAAC9B,EAAUgK,GAChBhK,EAASN,EAAa,gBACtBM,EAAS6L,MAET,IAAI7I,EAAYgH,IAAWzL,KAAKb,EAAUC,WAAWyC,OAAOkD,UACzDvE,MAAK,SAAAmE,GAOJ,OANA4I,GACE9L,EACAkD,EAAOtB,KAAI,SAAAuB,GAAK,OAAIA,EAAMf,MAC1B9B,OAAOyL,KAAK/B,IAAW9G,QACvBuF,IAEKuD,GAAchM,EAAUkD,EAAQoF,OACtCvJ,MAAK,WACN,OAAO,IAAI0E,EACTuG,IAAWzL,KAAKb,EAAUC,WAAWyC,OACrCkD,aACDvE,MAAK,SAAA2E,GAON,OANAoI,GACE9L,EACA0D,EAAM9B,KAAI,SAAA+B,GAAI,OAAIA,EAAKvB,MACvB9B,OAAOyL,KAAK/B,IAAWtG,OACvB0F,IAEK4C,GAAchM,EAAU0D,EAAOuF,OACrClK,MAAK,WACN,OAAO,IAAIiH,GAAgB1F,OAAOC,OAAOyJ,IAAWtG,QAAQJ,aAC3DvE,MAAK,SAAA8E,GACN,OAAO,IAAID,GACToG,IAAWzL,KAAKb,EAAUC,WAAWyC,MACrCE,OAAOC,OAAOyJ,IAAWtG,OACzBG,GACAP,aACDvE,MAAK,SAAA8E,GAON,OANAiI,GACE9L,EACA6D,EAAQjC,KAAI,SAAAsC,GAAM,OAAIA,EAAO9B,MAC7B9B,OAAOyL,KAAK/B,IAAWnG,SACvBsG,IAEK6B,GAAchM,EAAU6D,EAASkG,OACvChL,MAAK,WACN,OAAO,IAAIqH,GAAiB9F,OAAOC,OAAOyJ,IAAWnG,UAAUP,aAC9DvE,MAAK,SAAAyF,GACN,OAAO,IAAID,GACTyF,IAAWzL,KAAKb,EAAUC,WAAWyC,MACrCE,OAAOC,OAAOyJ,IAAWnG,SACzBW,GACAlB,aACDvE,MAAK,SAAAyF,GAON,OANAsH,GACE9L,EACAwE,EAAS5C,KAAI,SAAAgD,GAAO,OAAIA,EAAQxC,MAChC9B,OAAOyL,KAAK/B,IAAWxF,UACvBoH,IAEKI,GAAchM,EAAUwE,EAAUiH,OACxC1M,MAAK,WACNiB,EC9EqB,SAAAiM,GAAO,MAAK,CACvCrM,KAH4B,iBAI5BC,QAASoM,GD4EMC,C1BhFM,U0BiFflM,EAASmM,MACTnM,ExB1E0B,CAChCJ,KAR0B,oBwBkFnBV,OAAM,SAAAC,GACPC,QAAQC,IAAIF,GACZa,EAASoM,GAAajN,IACtBa,ExB9E0B,CAChCJ,KAR0B,iBwBuFK,MAArBT,EAAMkN,YACRrM,EAASF,EAAapC,EAAUC,iBAM1C,SAASmO,GAAgB9L,EAAUsM,EAAQC,EAAQC,GACjDD,EAAOE,SAAQ,SAAArK,GACRkK,EAAO1J,SAASR,IACnBpC,EAASwM,EAAapK,O,SAKb4J,G,qFAAf,WAA6BhM,EAAU0M,EAAOC,GAA9C,SAAA9B,EAAA,sEACQ5H,QAAQG,IAAIsJ,EAAM9K,KAAI,SAAAC,GAC1B,OAAO7B,EAAS2M,EAAY9K,QAFhC,gCAIS6K,GAJT,4C,sBAOA,IAAMb,GAAa,iBAAO,CACxBjM,KA9FyB,gBAiGrBuM,GAAe,iBAAO,CAC1BvM,KAjG2B,kBAoGvBwM,GAAe,SAAAjN,GAAK,MAAK,CAC7BS,KApG2B,gBAqG3BC,QAASV,I,6jBEtHX,IAAMkB,GAAe,CACnBuM,YAAa,EACbzN,MAAO,M,qkHCFM,ICWT0N,GAAcC,YAAgB,CAClCb,QCRa,WAAmC,IAAlCrC,EAAiC,uD/BN1B,Q+BMemD,EAAW,uCAC/C,OAAQA,EAAOnN,MACf,IJR4B,iBIS1B,OAAOmN,EAAOlN,QAChB,QACE,OAAO+J,IDITrL,K1BHa,WAAmC,IAAlCqL,EAAiC,uDAAzBvJ,EAAc0M,EAAW,uCAC/C,OAAQA,EAAOnN,MACf,IDR0B,eCSxB,OAAO,EAAP,GACKgK,EADL,eAEGmD,EAAOlN,QAFV,KAGO+J,EAAMmD,EAAOlN,SAHpB,CAIIV,MAAO,SAGb,IDf4B,iBCgB1B,OAAO,EAAP,GACKyK,EADL,eAEGmD,EAAOlN,QAAQE,SAFlB,KAGO6J,EAAMmD,EAAOlN,QAAQE,UAH5B,CAIIK,MAAO2M,EAAOlN,QAAQO,MACtBjB,MAAO,SAGb,IDvB4B,iBCwB1B,OAAO,EAAP,GACKyK,EADL,eAEGmD,EAAOlN,QAAQE,SAFlB,KAGO6J,EAAMmD,EAAOlN,QAAQE,UAH5B,CAIIZ,MAAO4N,EAAOlN,QAAQV,UAG5B,QACE,OAAOyK,I0BxBToD,SzBRa,WAAmC,IAAlCpD,EAAiC,uDAAzBvJ,EAAc0M,EAAW,uCAC/C,OAAQA,EAAOnN,MACf,I2BV6B,kB3BW3B,OAAO,KACFgK,EADL,GAEKmD,EAAOlN,SAEd,QACE,OAAO+J,IyBCTqD,SFVa,WAAmC,IAAlCrD,EAAiC,uDAAzBvJ,GAAc0M,EAAW,uCAC/C,OAAQA,EAAOnN,MACf,IFQyB,cEPvB,OAAO,MACFgK,EADL,CAEEzK,MAAO,OAEX,IFI2B,gBEHzB,OAAO,MACFyK,EADL,CAEEgD,aAAa,IAAIM,MAAOhC,YAE5B,IFA2B,gBECzB,OAAO,MACFtB,EADL,CAEEzK,MAAO4N,EAAOlN,UAElB,QACE,OAAO+J,IEPTuD,QGda,WAAmC,IAAlCvD,EAAiC,wDAAXmD,EAAW,uCAC/C,OAAQA,EAAOnN,MACf,I/BN2B,gB+BOzB,OAAOmN,EAAOlN,QAChB,I/BP0B,e+BQxB,OAAO,EACT,QACE,OAAO+J,IHQT1G,OIjBa,WAAyB,IAAxB0G,EAAuB,uDAAf,GAAImD,EAAW,uCACrC,OAAQA,EAAOnN,MACf,IjBF0B,eiBEP,MAERmN,EAAOlN,QAAoBuN,GAAaxD,EAFhC,gBAEgCA,EAFhC,cAIjB,OAAOwD,EAET,IjBP0B,eiBQxB,OAAO,MACFxD,EADL,eAEGmD,EAAOlN,QAAQuC,GAFlB,MAGOwH,EAAMmD,EAAOlN,QAAQuC,IAH5B,GAIO2K,EAAOlN,WAGhB,QACE,OAAO+J,IJCTlG,MKlBa,WAAyB,IAAxBkG,EAAuB,uDAAf,GAAImD,EAAW,uCACrC,OAAQA,EAAOnN,MACf,IhBFyB,cgBEP,MAEPmN,EAAOlN,QAAmBuN,GAAaxD,EAFhC,gBAEgCA,EAFhC,cAIhB,OAAOwD,EAET,IhBPyB,cgBQvB,OAAO,MACFxD,EADL,eAEGmD,EAAOlN,QAAQuC,GAFlB,MAGOwH,EAAMmD,EAAOlN,QAAQuC,IAH5B,GAIO2K,EAAOlN,WAGhB,QACE,OAAO+J,ILET/F,QMnBa,WAAyB,IAAxB+F,EAAuB,uDAAf,GAAImD,EAAW,uCACrC,OAAQA,EAAOnN,MACf,IdA2B,gBcAP,MAETmN,EAAOlN,QAAqBuN,GAAaxD,EAFhC,gBAEgCA,EAFhC,cAIlB,OAAOwD,EAET,IdL2B,gBcMzB,OAAO,MACFxD,EADL,eAEGmD,EAAOlN,QAAQuC,GAFlB,MAGOwH,EAAMmD,EAAOlN,QAAQuC,IAH5B,GAIO2K,EAAOlN,WAGhB,QACE,OAAO+J,INGTpF,SDpBa,WAAyB,IAAxBoF,EAAuB,uDAAf,GAAImD,EAAW,uCACrC,OAAQA,EAAOnN,MACf,IJC4B,iBIDP,MAEVmN,EAAOlN,QAAsBuN,GAAaxD,EAFhC,gBAEgCA,EAFhC,cAInB,OAAOwD,EAET,IJJ4B,iBIK1B,OAAO,MACFxD,EADL,eAEGmD,EAAOlN,QAAQuC,GAFlB,MAGOwH,EAAMmD,EAAOlN,QAAQuC,IAH5B,GAIO2K,EAAOlN,WAGhB,QACE,OAAO+J,MCMIyD,eAAe,CAC5BC,IAAK,OACLC,QAASA,IACTC,UAAW,CACT,UACA,OACA,WACA,WACA,SACA,QACA,UACA,YAEFC,OAAOhO,GACNoN,IOnCYa,eACbC,GACAC,YAAgBC,M,UCMZC,GAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAwCN,SAASC,GAAgBC,EAAO5P,GAC9B6P,UAAUC,cACPC,SAASH,GACTtP,MAAK,SAAA0P,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB/E,QACf0E,UAAUC,cAAcO,YAI1B1P,QAAQC,IACN,iHAMF2O,OAAOe,qBAAsB,EAGzBtQ,GAAUA,EAAOuQ,UACnBvQ,EAAOuQ,SAASP,KAMlBrP,QAAQC,IAAI,sCAGRZ,GAAUA,EAAOwQ,WACnBxQ,EAAOwQ,UAAUR,WAO5BvP,OAAM,SAAAC,GACLC,QAAQD,MAAM,4CAA6CA,M,4BC7DlD+P,I,kBAtCb,WAAYC,EAASvC,EAAawC,GAAc,oBAC9ChR,KAAKiR,SAAWF,EAChB/Q,KAAKkR,aAAe1C,EACpBxO,KAAKmR,aAAeH,E,sDAIpB,OAAIhR,KAAK+Q,UAAY1R,KAKnBW,KAAK+Q,UAAY1R,IACjB,IAAIyP,MAAOsC,gBAAkB,IAAItC,KAAK9O,KAAKwO,aAAa4C,gBACxD,IAAItC,MAAOuC,aAAe,IAAIvC,KAAK9O,KAAKwO,aAAa6C,YACpDrR,KAAK+Q,UAAY1R,IAChB,IAAIyP,MAAOwC,YAAc,IAAIxC,KAAK9O,KAAKwO,aAAa8C,aAEtDtR,KAAKgR,eACE,M,8BAOT,OAAOhR,KAAKiR,W,kCAIZ,OAAOjR,KAAKkR,e,kCAIZ,OAAOlR,KAAKmR,iB,MCXDI,G,WAvBb,WAAYC,EAAyBR,GAAc,oBACjDhR,KAAKyR,yBAA2BD,EAChCxR,KAAKmR,aAAeH,E,sDAIpB,MxCTmB,UwCSfhR,KAAKwR,0BACPxR,KAAKgR,eACE,K,8CAOT,OAAOhR,KAAKyR,2B,kCAIZ,OAAOzR,KAAKmR,iB,uBCXDO,I,yMANX,OACE,yBAAKC,UAAU,QAAQC,IAAK5R,KAAK6R,MAAMvN,IAAKwN,IAAK9R,KAAK6R,MAAMC,IAAKC,MAAO/R,KAAK6R,MAAME,Y,GAHrEC,cC+CLC,G,+LAxCX,IAAIC,KACFC,SAASC,cAAT,2BACsBpS,KAAK6R,MAAM7N,GADjC,uBAEG,CACDqO,aAAc,GACdC,cAAe,OACfC,mBAAoB,GACpBC,kBAAmB,GACnBC,YAAY,M,+BAMhB,OACE,yBAAKd,UAAU,kBAAkB3N,GAAIhE,KAAK6R,MAAM7N,IAC9C,yBAAK2N,UAAU,oBACb,yBAAKA,UAAU,kBACZ3R,KAAK6R,MAAMvD,MAAMnH,OAChBnH,KAAK6R,MAAMvD,MAAM9K,KAAI,SAAAC,GACnB,OACE,yBAAKkO,UAAU,eAAezC,IAAKzL,EAAKO,IACtC,kBAAC,IAAD,CAAM0O,GAAIjP,EAAKkF,MACb,kBAAC,GAAD,CAAOrE,IAAKb,EAAKwF,WAAa,aAAc6I,IAAKrO,EAAKK,KAAMiO,MAAM,cAM1E,yBAAKJ,UAAU,gBACb,sD,GAhCcK,aCNxBW,GAAiB,SAAAnH,GAAK,OAAIA,EAAM1G,QAEzB8N,GAAgB,SAAA5O,GAC3B,OAAO0H,aACLiH,IACA,SAAA7N,GAAM,OAAIA,EAAOd,OAIR6O,GAA2B,WACtC,OAAOnH,aACLiH,IACA,SAAA7N,GACE,OAAO5C,OAAOC,OAAO2C,GAAQnB,QAAO,SAAAoB,GAClC,YAA0BuH,IAAnBvH,EAAMwH,UACQ,IAAnBxH,EAAMwH,UACNxH,EAAMwH,SAAW,GAAqB,IAAhBxH,EAAMsE,WAC7BmD,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEE,YAAcD,EAAEC,aAAgB,EAAI,SAKlDmG,GAAgC,SAAAjG,GAC3C,OAAOnB,aACLiH,IACA,SAAA7N,GACE,OAAO5C,OAAOC,OAAO2C,GAAQnB,QAAO,SAAAoB,GAClC,OAAOA,EAAM4H,aAAeE,EAAKC,iBACXR,IAAnBvH,EAAMwH,UACc,IAAnBxH,EAAMwH,UACNxH,EAAMwH,SAAW,IAAsB,IAAhBxH,EAAMsE,YAChCmD,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEE,YAAcD,EAAEC,aAAgB,EAAI,SAKlDoG,GAAyB,SAAA/O,GACpC,OAAO0H,aACLiH,IACA,SAAA7N,GACE,OAAO5C,OAAOC,OAAO2C,GAAQnB,QAAO,SAAAoB,GAClC,OAAOA,EAAM0E,KAAKzD,MAAK,SAAA0D,GAAU,OAAIA,EAAW1F,KAAOA,MACrDe,EAAMgF,KAAK/D,MAAK,SAAAgE,GAAU,OAAIA,EAAWhG,KAAOA,YAM7CgP,GAA2B,SAAAhP,GACtC,OAAO0H,aACLiH,IACA,SAAA7N,GACE,OAAO5C,OAAOC,OAAO2C,GAAQtB,KAAI,SAAAuB,GAAK,OAAIA,EAAM0E,QAAM0D,OACnDxJ,QAAO,SAAA+F,GAAU,OAAIA,EAAW1F,KAAOA,SAKnCiP,GAA2B,SAAAjP,GACtC,OAAO0H,aACLiH,IACA,SAAA7N,GACE,OAAO5C,OAAOC,OAAO2C,GAAQtB,KAAI,SAAAuB,GAAK,OAAIA,EAAMgF,QAAMoD,OACnDxJ,QAAO,SAAAqG,GAAU,OAAIA,EAAWhG,KAAOA,SC7C1CkP,G,YACJ,WAAYrB,GAAQ,IAAD,sBACjB,8CAAMA,IAEN,IAAMsB,EAAc,IAAIrE,KAHP,OAIjBqE,EAAYC,SAASD,EAAY9B,WAAa,GAE9C,EAAK7F,MAAQ,CACX6H,WAAY,sBACPR,KAA2B,CAAE/N,OAAQ,EAAK+M,MAAM/M,UADzC,YAEPuH,KAA4B,CAAE5G,QAAS,EAAKoM,MAAMpM,YACrD+G,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEE,YAAcD,EAAEC,aAAgB,EAAI,KACxD2G,gBAAiB,sBACZR,GAA8BK,EAA9BL,CAA2C,CAC5ChO,OAAQ,EAAK+M,MAAM/M,UAFN,YAIZ8H,GAA+BuG,EAA/BvG,CAA4C,CAC7CnH,QAAS,EAAKoM,MAAMpM,YAEtB+G,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEE,YAAcD,EAAEC,aAAgB,EAAI,MAlBzC,E,kFAuBjBwF,SAASC,cAAc,sBAAsBmB,UAAUC,IAAI,Y,6CAI3DrB,SAASC,cAAc,sBAAsBmB,UAAUE,OAAO,Y,+BAGtD,IAAD,OACP,OACEzT,KAAKwL,MAAM6H,WAAWlM,OAAS,GAC7BnH,KAAKwL,MAAM8H,gBAAgBnM,OAAS,EAGpC,yBAAKwK,UAAU,UACZ3R,KAAKwL,MAAM6H,WAAWlM,OAAS,GAAK,iCACnC,iDACA,kBAAC,GAAD,CAAiBmH,MAAOtO,KAAKwL,MAAM6H,WAAYrP,GAAG,gBAGnDhE,KAAKwL,MAAM8H,gBAAgBnM,OAAS,GAAK,iCACxC,gDACA,kBAAC,GAAD,CAAiBmH,MAAOtO,KAAKwL,MAAM8H,gBAAiBtP,GAAG,sBAO/C,IAFd9B,OAAOC,OAAO7C,GAAWqE,QAAO,SAAAhC,GAC9B,OAA2C,OAApC,EAAKkQ,MAAM1R,KAAKwB,GAAUK,SAChCmF,OAGD,yBAAKwK,UAAU,UACb,2CACA,yIACA,kBAAC,IAAD,CAAMe,GAAG,gBAAgBf,UAAU,UAAnC,gBAGA,uBAAGA,UAAU,SAAb,wBAA0C,0BAAMA,UAAU,QAAhB,OAA1C,yIAIyC,IAA7CzP,OAAOwR,QAAQ1T,KAAK6R,MAAM/M,QAAQqC,QACY,IAA5CjF,OAAOwR,QAAQ1T,KAAK6R,MAAMvM,OAAO6B,OAGjC,yBAAKwK,UAAU,UACb,2CACA,0GACA,wIACA,mKACA,yBAAKA,UAAU,mBACb,uBAAGA,UAAU,iBAAiBgC,KAAK,mDAAmDC,OAAO,SAASC,IAAI,uBAA1G,mBACA,4BAAQC,QAAS9T,KAAK6R,MAAMnO,OAA5B,WAMJ,yBAAKiO,UAAU,UACb,2CACA,0HACA,yBAAKA,UAAU,mBACZzP,OAAOwR,QAAQ1T,KAAK6R,MAAM/M,QAAQqC,OAAS,GAAK,kBAAC,IAAD,CAAMuL,GAAG,cAAcf,UAAU,UAAjC,wBAGhDzP,OAAOwR,QAAQ1T,KAAK6R,MAAMvM,OAAO6B,OAAS,GAAK,kBAAC,IAAD,CAAMuL,GAAG,aAAaf,UAAU,UAAhC,6B,GAzFvCK,aAmGN+B,gBACb,SAAAvI,GAAK,MAAK,CACR1G,OAAQ0G,EAAM1G,OACdQ,MAAOkG,EAAMlG,MACbG,QAAS+F,EAAM/F,QACftF,KAAMqL,EAAMrL,QAEd,CAAEuD,UAPWqQ,CAQbb,ICnGac,I,kMApBX,OACE,yBAAKrC,UAAU,WAAW3N,GAAIhE,KAAK6R,MAAM7N,IACtChE,KAAK6R,MAAMvD,MAAMnH,OAASnH,KAAK6R,MAAMvD,MAAM9K,KAAI,SAAAC,GAC9C,OACE,yBAAKkO,UAAU,iBAAiBzC,IAAKzL,EAAKO,IACxC,kBAAC,IAAD,CAAM0O,GAAIjP,EAAKkF,MACb,kBAAC,GAAD,CAAOrE,IAAKb,EAAKwF,WAAa,aAAc6I,IAAKrO,EAAKK,KAAMiO,MAAM,cAKxE,yBAAKJ,UAAU,kBACb,oD,GAdWK,cCoDRiC,I,sMAhDX,IAAI/B,KACFC,SAASC,cAAT,yBACoBpS,KAAK6R,MAAM7N,GAD/B,uBAEG,CACDkQ,UAAW,WACX5B,cAAe,OACfG,YAAY,EACZ0B,OAAQ,YACRC,gBAAiB,CACfC,OAAQ,EACRC,QAAS,IACTC,MAAO,IACPC,SAAU,EACVC,cAAe,GAEjBC,QAAS,CACPC,cAAc,EACdzF,IAAKlP,KAAK6R,MAAMlJ,U,+BAOtB,OACE,yBAAKgJ,UAAU,gBAAgB3N,GAAIhE,KAAK6R,MAAM7N,IAC5C,yBAAK2N,UAAU,oBACb,yBAAKA,UAAU,kBACZ3R,KAAK6R,MAAMvD,MAAMnH,OAASnH,KAAK6R,MAAMvD,MAAM9K,KAAI,SAAAC,GAC9C,OACE,yBAAKkO,UAAU,eAAeiD,eAAcnR,EAAKO,GAAIkL,IAAKzL,EAAKO,IAC7D,kBAAC,IAAD,CAAM0O,GAAIjP,EAAKkF,MACb,kBAAC,GAAD,CAAOrE,IAAKb,EAAKwF,WAAa,aAAc6I,IAAKrO,EAAKK,KAAMiO,MAAM,cAKxE,yBAAKJ,UAAU,gBACb,sD,GAxCYK,cCNb,YAAAH,GAAK,OAClB,yBAAKgD,OAAQhD,EAAMgD,OAAQ9C,MAAOF,EAAME,MAAO+C,QAAQ,YAAYC,MAAM,8BACxE,uCACA,uBAAGC,KAAK,WACP,0BAAMA,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,KAAKC,GAAG,SAASC,GAAG,KAAKC,GAAG,WACxG,4BAAQC,GAAG,KAAKC,GAAG,KAAKT,KAAK,OAAOU,EAAE,IAAIT,OAAO,UAAUC,cAAc,QAAQC,YAAY,SCE3FQ,G,+LAEFxD,SAASC,cAAc,uBAAuBmB,UAAUC,IAAI,Y,6CAI5DrB,SAASC,cAAc,uBAAuBmB,UAAUE,OAAO,Y,+BAI/D,OACE,yBAAK9B,UAAU,UACZzP,OAAOwR,QAAQ1T,KAAK6R,MAAM/M,QAAQqC,OAAS,GAC1C,yBAAKwK,UAAU,mBACb,yBAAKA,UAAU,gBACb,kBAAC,IAAD,CAAMe,GAAG,aACP,kBAAC,GAAD,CAAUX,MAAO,GAAI8C,OAAQ,OAGhCjF,OAAOgG,WAAa,IAAM,kBAAC,GAAD,CAAetH,MAAOpM,OAAOC,OAAOnC,KAAK6R,MAAM/M,QAAQ0H,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAE3I,KAAO4I,EAAE5I,MAAS,EAAI,KAAIE,GAAG,SAAS2E,KAAK,WAAc,kBAAC,GAAD,CAAU2F,MAAOpM,OAAOC,OAAOnC,KAAK6R,MAAM/M,QAAQ0H,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAE3I,KAAO4I,EAAE5I,MAAS,EAAI,KAAIE,GAAG,iB,GAnBrPgO,aA2BN+B,gBACb,SAAAvI,GAAK,MAAK,CACR1G,OAAQ0G,EAAM1G,UAFHiP,CAIb4B,ICxBaE,I,kMAVX,OACE,yBAAKlE,UAAU,YACb,qDACA,gGAAqE,uBAAGgC,KAAK,wCAAwCC,OAAO,SAASC,IAAI,uBAApE,+BAArE,KACA,yFAAmE,kBAAC,IAAD,CAAMnB,GAAG,QAAT,sBAAnE,U,GANeV,cCSR8D,I,2LARX,OACE,6BAASnE,UAAU,YACjB,yBAAKC,IAAK5R,KAAK6R,MAAMvN,IAAKwN,IAAI,kB,GAJfE,cC8BR+D,I,mBA5Bb,WAAYlE,GAAQ,IAAD,8BACjB,8CAAMA,KAEDrG,MAAQ,CACXwK,SAAS,GAJM,E,uEASjBhW,KAAKiW,SAAS,CACZD,SAAUhW,KAAKwL,MAAMwK,Y,+BAIf,IAAD,OACP,OACE,yBAAKrE,UAAU,cACZ3R,KAAK6R,MAAMqE,OACTC,MAAM,EAAGnW,KAAKwL,MAAMwK,QAAU,GAAKhW,KAAK6R,MAAMqE,OAAO/O,QACrD3D,KAAI,SAAC4S,EAAQ1S,GACZ,OAAO,uBAAGwL,IAAKxL,GAAO,kBAAC,IAAD,CAAMgP,GAAE,sBAAiB0D,EAAOpS,KAAOoS,EAAOtS,MAA7D,SAA4E,8BAAOsS,EAAO,EAAKvE,MAAMwE,gBAEhH,0BAAMvC,QAAS9T,KAAKsW,OAAOC,KAAKvW,OAAQA,KAAKwL,MAAMwK,QAAU,YAAc,kB,GAvB1DhE,c,wCCYVwE,G,oLAXX,OACE,2BACEC,KAAK,WACLC,MAAO1W,KAAK6R,MAAMtQ,QAAQ4C,YAC1ByN,IAAK5R,KAAK6R,MAAMtQ,QAAQ+C,IACxBqS,QAASC,KAAQC,QAAQ7W,KAAK6R,MAAMtQ,QAAQ4C,cAAgB,KAC5D2S,QAAS9W,KAAK6R,MAAMiF,c,GARF9E,aCUX+E,G,oLATX,OACE,4BACEnF,IAAK5R,KAAK6R,MAAMjO,OAAOU,IACvB9C,KAAMxB,KAAK6R,MAAMjO,OAAOS,SACxB2S,KAAMhX,KAAK6R,MAAMjO,OAAOO,kB,GANP6N,aCUnBiF,G,+LACiB,IAAD,OAClBjX,KAAKkX,OAAS,IAAIC,KAAKhF,SAASC,cAAc,WAAY,CACxD/C,OAAOhO,IAGTrB,KAAKkX,OAAOE,GAAG,SAAS,SAAArW,GACtBC,QAAQC,IAAIF,GAEZ,EAAK8Q,MAAMnQ,aAAa,EAAKmQ,MAAMpO,KAAK9B,aAG1C3B,KAAKkX,OAAOE,GAAG,cAAc,SAAAC,GACW,IAAlCA,EAAMC,OAAOC,KAAKC,aACpB,EAAK3F,MAAM4F,iBAAiB,CAC1BzT,GAAI,EAAK6N,MAAMpO,KAAKO,GACpB2I,aAAa,IAAImC,MAAOhC,UACxBP,SAAU8K,EAAMC,OAAOC,KAAKC,iBAKlCxX,KAAKkX,OAAOE,GAAG,kBAAkB,WAC/B,IAAMM,EAAYvF,SAASC,cAAc,eAErCsF,IAAcA,EAAUC,QAAQC,cAClC,EAAKV,OAAOW,OACZH,EAAUI,MAAMC,QAAU,OAEtB,EAAKlG,MAAMmG,cACb,EAAKnG,MAAMmG,mBAKjBhY,KAAKkX,OAAOE,GAAG,SAAS,WACtB,EAAKF,OAAOe,WAAWC,OACvB/F,SAASC,cAAc,eAAe0F,MAAMC,QAAU,OAElD,EAAKlG,MAAMsG,aACb,EAAKtG,MAAMsG,mB,+BAMf,OAEgE,IAD9DnY,KAAK6R,MAAMpO,KAAK0B,MACbxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UAAQwH,OAE5C,KAIP,yBAAKwK,UAAU,cACb,2BACEC,IAAK5R,KAAK6R,MAAMpO,KAAK0B,MAClBxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UAAQ,GAAG2E,IACtDN,GAAG,SAASoU,YAAY,OAAOC,aAAW,EAACC,UAAQ,GAClDtY,KAAK6R,MAAMpO,KAAK0B,MAAMxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UAC5D6D,KAAI,SAACI,EAAQF,GACZ,OAAO,kBAAC,GAAD,CAAYE,OAAQA,EAAQsL,IAAKxL,OAE3C1D,KAAK6R,MAAMpO,KAAK0B,MACdxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWE,WACxC4D,KAAI,SAACjC,EAASmC,GACb,OACE,kBAAC,GAAD,CACEnC,QAASA,EACTuV,QAAmB,IAAVpT,EACTwL,IAAKxL,OAGb,uBAAGiQ,KAAM3T,KAAK6R,MAAMpO,KAAK0B,MAAMxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UAAQ,GAAGiS,IAAK2G,UAAQ,GAA/F,kB,GAzEevG,aAgFV+B,eACb,KACA,CAAErS,gBAFWqS,CAGbkD,IC9EIuB,G,YACJ,WAAY3G,GAAQ,IAAD,8BACjB,8CAAMA,KAEDrG,MAAQ,CACXzG,MAAO6N,GAAc,EAAKf,MAAM9B,MAAM0I,OAAOzU,GAAtC4O,CAA0C,CAC/C9N,OAAQ,EAAK+M,MAAM/M,UALN,E,kFAWjBqN,SAASC,cAAc,uBAAuBmB,UAAUC,IAAI,Y,6CAI5DrB,SAASC,cAAc,uBAAuBmB,UAAUE,OAAO,Y,iCAI/DzT,KAAK0Y,MAAM1Y,KAAKwL,MAAMzG,MAAMwH,Y,8BAGT,IAAfA,EAAc,uDAAH,EACT2K,EAAS/E,SAASC,cAAc,eAChCmF,EAAOL,EAAO9E,cAAc,WAAWmF,KAC7CL,EAAOS,QAAQC,aAAc,EAE7BrQ,YAAW,WACT2P,EAAOY,MAAMC,QAAU,QACvBR,EAAKU,WAAWU,QAChBpB,EAAKqB,OACLrB,EAAKC,YAAcjL,EACnBhF,YAAW,kBAAe2P,EAAOS,QAAQC,cAAc,OACtD,O,sCAIH5X,KAAK6R,MAAMzH,YAAY,CACrBpG,GAAIhE,KAAKwL,MAAMzG,MAAMf,GACrBuI,SAAU,M,+BAIJ,IAAD,OACP,OAAIvM,KAAKwL,MAAMzG,MAEX,yBAAK4M,UAAU,SACZ3R,KAAKwL,MAAMzG,MAAMI,MAAMxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UAAQwH,OAAS,GAAK,kBAAC,GAAD,CAAY1D,KAAMzD,KAAKwL,MAAMzG,MAAO0S,iBAAkBzX,KAAK6R,MAAMzH,YAAa+N,YAAanY,KAAK6Y,cAActC,KAAKvW,QACzM,kBAAC,GAAD,CAAUsE,IAAKtE,KAAKwL,MAAMzG,MAAM+D,cAChC,yBAAK6I,UAAU,kBACb,kBAAC,GAAD,CAAOrN,IAAKtE,KAAKwL,MAAMzG,MAAMkE,UAAW6I,IAAI,SAASC,MAAM,QAC3D,4BAAK/R,KAAKwL,MAAMzG,MAAMjB,MACtB,yBAAK6N,UAAU,sBACb,uBAAGA,UAAU,SAAS,IAAI7C,KAAK9O,KAAKwL,MAAMzG,MAAMoE,aAAaiI,eAC7D,uBAAGO,UAAU,SAAuD,IAA9CmH,KAAKC,MAAM/Y,KAAKwL,MAAMzG,MAAMsE,QAAU,KAAtC,UAAsDyP,KAAKC,MAAM/Y,KAAKwL,MAAMzG,MAAMsE,QAAU,IAA5F,KAAtB,IAA2HrJ,KAAKwL,MAAMzG,MAAMsE,QAAU,KAAO,GAAlC,UAA0CrJ,KAAKwL,MAAMzG,MAAMsE,QAAU,GAArE,OAE7H,yBAAKsI,UAAU,kBACZ3R,KAAKwL,MAAMzG,MAAMI,MAAMxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UAAQwH,OAAS,QAAmCmF,IAA9BtM,KAAKwL,MAAMzG,MAAMwH,UAAwD,IAA9BvM,KAAKwL,MAAMzG,MAAMwH,UAAkBvM,KAAKwL,MAAMzG,MAAMwH,SAAW,GAAKvM,KAAKwL,MAAMzG,MAAMsE,SAAW,4BAAQsI,UAAU,UAAU3N,GAAG,WAAW8P,QAAS9T,KAAKgZ,SAASzC,KAAKvW,OAAtE,YAChOA,KAAKwL,MAAMzG,MAAMI,MAAMxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UAAQwH,OAAS,GAAK,4BAAQwK,eAAyCrF,IAA9BtM,KAAKwL,MAAMzG,MAAMwH,UAAwD,IAA9BvM,KAAKwL,MAAMzG,MAAMwH,UAAkBvM,KAAKwL,MAAMzG,MAAMwH,SAAW,IAAMvM,KAAKwL,MAAMzG,MAAMsE,QAAU,UAAY,GAAIrF,GAAG,QAAQ8P,QAAS,kBAAM,EAAK4E,UAA7M,SACtF,uBAAG/G,UAAU,SAAS3N,GAAG,UAAU2P,KAAM3T,KAAKwL,MAAMzG,MAAMwE,YAAaqK,OAAO,SAASC,IAAI,uBAA3F,iBAEF,uBAAGlC,UAAU,mBAAmB3R,KAAKwL,MAAMzG,MAAMiE,UACjD,yBAAK2I,UAAU,iBACb,yBAAKA,UAAU,uBACb,wCACA,kBAAC,GAAD,CAAYuE,OAAQlW,KAAKwL,MAAMzG,MAAM0E,KAAM4M,UAAU,eAEvD,yBAAK1E,UAAU,uBACb,oCACA,kBAAC,GAAD,CAAYuE,OAAQlW,KAAKwL,MAAMzG,MAAMgF,KAAMsM,UAAU,WAI3D,yBAAK1E,UAAU,kBACb,uCACA,uBAAGA,UAAU,SAAb,aAAgCnS,EAAkBQ,KAAKwL,MAAMzG,MAAMpD,WACnE,6BACE,yBAAKgQ,UAAU,4BACb,wCACC3R,KAAKwL,MAAMzG,MAAMI,MACfxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UACxC6D,KAAI,SAACO,EAAML,GACV,OAAO,uBAAGiO,UAAU,QAAQzC,IAAKxL,GAAQK,EAAKI,gBAIpC,IAFbnE,KAAKwL,MAAMzG,MAAMI,MACfxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UACxCwH,QAAgB,uBAAGwK,UAAU,SAAb,MAErB,yBAAKA,UAAU,4BACb,yCACC3R,KAAKwL,MAAMzG,MAAMI,MACfxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWE,WACxC4D,KAAI,SAACO,EAAML,GACV,OAAO,uBAAGiO,UAAU,QAAQzC,IAAKxL,GAAQK,EAAKI,gBAIpC,IAFbnE,KAAKwL,MAAMzG,MAAMI,MACfxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWE,WACxCuH,QAAgB,uBAAGwK,UAAU,SAAb,SAOtB,kBAAC,GAAD,U,GAzGOK,aA8GL+B,gBACb,SAAAvI,GAAK,MAAK,CACR1G,OAAQ0G,EAAM1G,UAEhB,CAAEsF,gBAJW2J,CAKbyE,IC3HIS,I,sMAEF9G,SAASC,cAAc,uBAAuBmB,UAAUC,IAAI,Y,6CAI5DrB,SAASC,cAAc,uBAAuBmB,UAAUE,OAAO,Y,+BAI/D,OACE,yBAAK9B,UAAU,SACZzP,OAAOwR,QAAQ1T,KAAK6R,MAAMvM,OAAO6B,OAAS,GACzC,yBAAKwK,UAAU,kBACb,yBAAKA,UAAU,eACb,kBAAC,IAAD,CAAMe,GAAG,aACP,kBAAC,GAAD,CAAUX,MAAO,GAAI8C,OAAQ,OAGhCjF,OAAOgG,WAAa,IAAM,kBAAC,GAAD,CAAetH,MAAOpM,OAAOC,OAAOnC,KAAK6R,MAAMvM,OAAOkH,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAE3I,KAAO4I,EAAE5I,MAAS,EAAI,KAAIE,GAAG,QAAQ2E,KAAK,UAAa,kBAAC,GAAD,CAAU2F,MAAOpM,OAAOC,OAAOnC,KAAK6R,MAAMvM,OAAOkH,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAE3I,KAAO4I,EAAE5I,MAAS,EAAI,KAAIE,GAAG,gB,GAnBlPgO,cA2BL+B,gBACb,SAAAvI,GAAK,MAAK,CACRlG,MAAOkG,EAAMlG,SAFFyO,CAIbkF,IC3BIC,I,mBACJ,WAAYrH,GAAQ,IAAD,8BACjB,8CAAMA,KAEDrG,MAAQ,CACXjG,KAAMkG,GAAa,EAAKoG,MAAM9B,MAAM0I,OAAOzU,GAArCyH,CAAyC,CAC7CnG,MAAO,EAAKuM,MAAMvM,QAEpBG,QAASsH,GAAsB,EAAK8E,MAAM9B,MAAM0I,OAAOzU,GAA9C+I,CAAkD,CACzDtH,QAAS,EAAKoM,MAAMpM,WARP,E,kFAcjB0M,SAASC,cAAc,uBAAuBmB,UAAUC,IAAI,Y,6CAI5DrB,SAASC,cAAc,uBAAuBmB,UAAUE,OAAO,Y,+BAI/D,OAAIzT,KAAKwL,MAAMjG,KAEX,yBAAKoM,UAAU,QACb,kBAAC,GAAD,CAAUrN,IAAKtE,KAAKwL,MAAMjG,KAAKuD,cAC/B,yBAAK6I,UAAU,iBACb,kBAAC,GAAD,CAAOrN,IAAKtE,KAAKwL,MAAMjG,KAAK0D,UAAW6I,IAAI,SAASC,MAAM,QAC1D,4BAAK/R,KAAKwL,MAAMjG,KAAKzB,MACrB,yBAAK6N,UAAU,qBACb,uBAAGA,UAAU,SAAS,IAAI7C,KAAK9O,KAAKwL,MAAMjG,KAAKkF,cAAc2G,cAA7D,MAA+E,IAAItC,KAAK9O,KAAKwL,MAAMjG,KAAKoF,aAAayG,gBAEvH,uBAAGO,UAAU,kBAAkB3R,KAAKwL,MAAMjG,KAAKyD,WAEhDhJ,KAAKwL,MAAM/F,QAAQ0B,OAAS,GAAK,yBAAKwK,UAAU,iBAC/C,uCACA,kBAAC,GAAD,CAAiBrD,MAAOtO,KAAKwL,MAAM/F,QAAQ+G,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAErF,aAAesF,EAAEtF,cAAiB,EAAI,KAAIpD,GAAG,cAKzG,kBAAC,GAAD,U,GA1CMgO,cA+CJ+B,gBACb,SAAAvI,GAAK,MAAK,CACRlG,MAAOkG,EAAMlG,MACbG,QAAS+F,EAAM/F,WAHJsO,CAKbmF,IC/DIC,I,OAAmB,SAAA3N,GAAK,OAAIA,EAAMpF,WAS3BgT,GAA2B,SAAA3S,GACtC,OAAOiF,aACLyN,IACA,SAAA/S,GACE,OAAOlE,OAAOC,OAAOiE,GAClBzC,QAAO,SAAA6C,GAAO,OAAIA,EAAQC,WAAaA,SCI1C4S,G,YACJ,WAAYxH,GAAQ,IAAD,8BACjB,8CAAMA,KAEDrG,MAAQ,CACX1F,OAAQsG,GAAe,EAAKyF,MAAM9B,MAAM0I,OAAOzU,GAAvCoI,CAA2C,CACjD3G,QAAS,EAAKoM,MAAMpM,UAEtBW,SAAUgT,GAAyB,EAAKvH,MAAM9B,MAAM0I,OAAOzU,GAAjDoV,CAAqD,CAC7DhT,SAAU,EAAKyL,MAAMzL,WAEvBkT,kBAAmBF,GAAyB,EAAKvH,MAAM9B,MAAM0I,OAAOzU,GAAjDoV,CAAqD,CACtEhT,SAAU,EAAKyL,MAAMzL,WACpBzC,QAAO,SAAA6C,GACR,YAA4B8F,IAArB9F,EAAQ7E,UAEC,IADd6E,EAAQrB,MAAMxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UACnDwH,UAEPoS,iBAAiB,GAEnB,EAAK/N,MAAMgO,qBACT,EAAKhO,MAAM8N,kBAAkBnS,OAAS,GACtC,EAAKqE,MAAM8N,kBAAkB,GAAGjS,cArBjB,E,kFAyBjB8K,SAASC,cAAc,uBAAuBmB,UAAUC,IAAI,Y,6CAI5DrB,SAASC,cAAc,uBAAuBmB,UAAUE,OAAO,Y,uCAI/DzT,KAAKiW,SAAS,CACZsD,iBAAkBvZ,KAAKwL,MAAM+N,oB,iCAK/BvZ,KAAK0Y,MACH1Y,KAAKwL,MAAM1F,OAAOyG,UAAY,EAC9BvM,KAAKwL,MAAMpF,SAASpG,KAAKwL,MAAM1F,OAAOyG,SAAW,GAAGA,UAAY,K,4BAI9DlF,GAA8B,IAAfkF,EAAc,uDAAH,EAC9BvM,KAAKiW,SAAS,CACZuD,qBAAsBnS,IAGxBrH,KAAK6R,MAAM/F,aAAa,CACtB9H,GAAIhE,KAAKwL,MAAM1F,OAAO9B,GACtB2I,aAAa,IAAImC,MAAOhC,UACxBP,SAAUlF,IAGZ,IAAM6P,EAAS/E,SAASC,cAAc,eAChCmF,EAAOL,EAAO9E,cAAc,WAAWmF,KAC7CL,EAAOS,QAAQC,aAAc,EAE7BrQ,YAAW,WACT2P,EAAOY,MAAMC,QAAU,QACvBR,EAAKU,WAAWU,QAChBpB,EAAKqB,OACLrB,EAAKC,YAAcjL,EACnBhF,YAAW,kBAAe2P,EAAOS,QAAQC,cAAc,OACtD,O,kFAQH5X,KAAK6R,MAAMtE,cAAc,CACvBvJ,GAAIhE,KAAKwL,MAAMpF,SAASpG,KAAKwL,MAAMgO,qBAAuB,GAAGxV,GAC7DuI,SAAU,IAGZ,IAAIlF,EAAgB,EAElBrH,KAAKwL,MAAMpF,SAASpG,KAAKwL,MAAMgO,sBAAsBrU,MAClDxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UAAQwH,OAAS,IAE5DE,EAAgBrH,KAAKwL,MAAMgO,qBAAuB,GAGpDxZ,KAAK6R,MAAM/F,aAAa,CACtB9H,GAAIhE,KAAKwL,MAAM1F,OAAO9B,GACtBuI,SAAUlF,M,+BAMJ,IAAD,OACP,OAAIrH,KAAKwL,MAAM1F,OAEX,yBAAK6L,UAAU,UACZ3R,KAAKwL,MAAM8N,kBAAkBnS,OAAS,GAAK,kBAAC,GAAD,CAAY1D,KAAMzD,KAAKwL,MAAMpF,SAASpG,KAAKwL,MAAMgO,qBAAuB,GAAI/B,iBAAkBzX,KAAK6R,MAAMtE,cAAeyK,aAAchY,KAAKyZ,eAAelD,KAAKvW,MAAOmY,YAAanY,KAAK0Z,gBAAgBnD,KAAKvW,QACzP,kBAAC,GAAD,CAAUsE,IAAKmH,GAAazL,KAAKwL,MAAM1F,OAAOC,OAA/B0F,CAAuC,CAAEnG,MAAOtF,KAAK6R,MAAMvM,QAASwD,cACnF,yBAAK6I,UAAU,mBACb,kBAAC,GAAD,CAAOrN,IAAKtE,KAAKwL,MAAM1F,OAAOmD,UAAW6I,IAAI,SAASC,MAAM,QAC5D,sCAAY/R,KAAKwL,MAAM1F,OAAOsB,cAC9B,yBAAKuK,UAAU,uBACb,uBAAGA,UAAU,SAASlG,GAAazL,KAAKwL,MAAM1F,OAAOC,OAA/B0F,CAAuC,CAAEnG,MAAOtF,KAAK6R,MAAMvM,QAASxB,MAC1F,uBAAG6N,UAAU,SAAS,IAAI7C,KAAK9O,KAAKwL,MAAM1F,OAAOsF,SAASgG,gBAE5D,yBAAKO,UAAU,mBACZ3R,KAAKwL,MAAM8N,kBAAkBnS,OAAS,QAAmCmF,IAA9BtM,KAAKwL,MAAMzG,MAAMwH,UAAyD,IAA/BvM,KAAKwL,MAAM1F,OAAOyG,UAAkB,4BAAQoF,UAAU,UAAU3N,GAAG,WAAW8P,QAAS9T,KAAKgZ,SAASzC,KAAKvW,OAAtE,oBAA+FA,KAAKwL,MAAM1F,OAAOyG,UAC3OvM,KAAKwL,MAAM8N,kBAAkBnS,OAAS,GAAoC,IAA/BnH,KAAKwL,MAAM1F,OAAOyG,UAAkB,4BAAQoF,eAAyCrF,IAA9BtM,KAAKwL,MAAMzG,MAAMwH,UAAyD,IAA/BvM,KAAKwL,MAAM1F,OAAOyG,SAAiB,UAAY,GAAIvI,GAAG,QAAQ8P,QAAS,kBAAM,EAAK4E,MAAM,EAAKlN,MAAM8N,kBAAkB,GAAGjS,iBAAtL,iBAAqNrH,KAAKwL,MAAM8N,kBAAkB,GAAGjS,eACrU,uBAAGsK,UAAU,SAAS3N,GAAG,UAAU2P,KAAM3T,KAAKwL,MAAM1F,OAAOyD,YAAaqK,OAAO,SAASC,IAAI,uBAA5F,iBAEF,yBAAKlC,UAAU,oBACb,6BACG3R,KAAKwL,MAAMpF,SACToG,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEpF,cAAgBqF,EAAErF,eAAkB,EAAI,KAC1D8O,MACC,EACAnW,KAAKwL,MAAM+N,gBAAkB,EAAIvZ,KAAKwL,MAAMpF,SAASe,QAEtD3D,KAAI,SAACgD,EAAS9C,GACb,OACE,yBAAKiW,cAAsErN,IAA5D,EAAKd,MAAMpF,SAASI,EAAQa,cAAgB,GAAG1F,UAA0I,IAAhH,EAAK6J,MAAMpF,SAASI,EAAQa,cAAgB,GAAGlC,MAAMxB,QAAO,SAAAI,GAAI,OAAIA,EAAKvC,OAAS9B,EAAWC,UAAQwH,OAAcwK,UAAU,kBAAkBmC,QAAS,kBAAM,EAAK4E,MAAMlS,EAAQa,gBAAgB6H,IAAKxL,GAC5R,yBAAKiO,UAAU,2BAA2BnL,EAAQa,eAClD,yBAAKsK,UAAU,4BACb,4BAAKnL,EAAQ1C,MACb,uBAAG6N,UAAU,SAAb,SAA4B,IAAI7C,KAAKtI,EAAQ4E,SAASwO,gBACtD,2BAAIpT,EAAQwC,gBAMvBhJ,KAAKwL,MAAMpF,SAASe,OAAS,GAAK,0BAAM2M,QAAS9T,KAAK6Z,eAAetD,KAAKvW,OAAQA,KAAKwL,MAAM+N,gBAAkB,oBAAsB,kBAExI,uBAAG5H,UAAU,oBAAoB3R,KAAKwL,MAAM1F,OAAOkD,UACnD,yBAAK2I,UAAU,kBACb,yBAAKA,UAAU,wBACb,wCACA,kBAAC,GAAD,CAAYuE,OAAQlW,KAAKwL,MAAM1F,OAAO2D,KAAM4M,UAAU,eAExD,yBAAK1E,UAAU,wBACb,oCACA,kBAAC,GAAD,CAAYuE,OAAQlW,KAAKwL,MAAM1F,OAAOiE,KAAMsM,UAAU,YAOzD,kBAAC,GAAD,U,GAxJQrE,aA6JN+B,gBACb,SAAAvI,GAAK,MAAK,CACRlG,MAAOkG,EAAMlG,MACbG,QAAS+F,EAAM/F,QACfW,SAAUoF,EAAMpF,YAElB,CAAE0F,gBAAcyB,kBANHwG,CAObsF,IC7KWS,I,OAAiB,SAAA9V,GAC5B,OAAO0H,aACLsH,GAAyBhP,GACzBiP,GAAyBjP,GACzBkJ,GAA0BlJ,GAC1BoJ,GAA0BpJ,IAC1B,SAAC+V,EAAYC,EAAYC,EAAaC,GACpC,MAAO,sBAAIH,GAAJ,YAAmBC,GAAnB,YAAkCC,GAAlC,YAAkDC,IAAa,QAK/DC,GAAsB,SAACnW,EAAI4F,GACtC,OAAO8B,aACLsH,GAAyBhP,GACzBiP,GAAyBjP,GACzBkJ,GAA0BlJ,GAC1BoJ,GAA0BpJ,IAC1B,SAAC+V,EAAYC,EAAYC,EAAaC,GACpC,OAAO,YACF,IAAIE,IAAJ,CACCL,EAAW5S,OAAS,GAAK8S,EAAY9S,OAAS,EAClC,IAAXyC,EAAe,UAAY,QAAW,MAFxC,mBAGEoQ,EAAWxW,KAAI,SAAAwG,GAAU,OAAIA,EAAWC,QAH1C,YAIEiQ,EAAY1W,KAAI,SAAAwG,GAAU,OAAIA,EAAWC,WAE9CtG,QAAO,SAAA0W,GAAI,OAAa,OAATA,SCvBjBC,G,YACJ,WAAYzI,GAAQ,IAAD,sBACjB,8CAAMA,IAEN,IAAM7N,EAAKiC,OAAOC,SAAS,EAAK2L,MAAM9B,MAAM0I,OAAOzU,IAHlC,OAKjB,EAAKwH,MAAQ,CACX4K,OAAQ0D,GAAe9V,EAAf8V,CAAmB,CACzBhV,OAAQ,EAAK+M,MAAM/M,OACnBW,QAAS,EAAKoM,MAAMpM,UAEtBX,OAAQiO,GAAuB/O,EAAvB+O,CAA2B,CAAEjO,OAAQ,EAAK+M,MAAM/M,SACxDW,QAASwH,GAAwBjJ,EAAxBiJ,CAA4B,CAAExH,QAAS,EAAKoM,MAAMpM,WAE7D,EAAK+F,MAAM+O,MAAQJ,GAAoBnW,EAAI,EAAKwH,MAAM4K,OAAOxM,OAA1CuQ,CAAkD,CACnErV,OAAQ,EAAK+M,MAAM/M,OACnBW,QAAS,EAAKoM,MAAMpM,UAfL,E,uEAoBjB,OAAIzF,KAAKwL,MAAM4K,OAEX,yBAAKzE,UAAU,UACb,kBAAC,GAAD,CAAUrN,KAAMtE,KAAKwL,MAAM1G,OAAO,IAAM9E,KAAK6R,MAAMvM,MAAMtF,KAAKwL,MAAM/F,QAAQ,GAAGM,SAAS+C,cACxF,yBAAK6I,UAAU,mBACb,kBAAC,GAAD,CAAOrN,IAAKtE,KAAKwL,MAAM4K,OAAOvM,WAAYiI,IAAI,UAAUC,MAAM,QAC9D,4BAAK/R,KAAKwL,MAAM4K,OAAOtS,MACvB,wCACA,2BAAI9D,KAAKwL,MAAM+O,MAAMC,KAAK,QAG3Bxa,KAAKwL,MAAM1G,OAAOqC,OAAS,GAAK,iCAC/B,sCACA,kBAAC,GAAD,CAAiBmH,MAAOtO,KAAKwL,MAAM1G,OAAQd,GAAG,YAG/ChE,KAAKwL,MAAM/F,QAAQ0B,OAAS,GAAK,iCAChC,0CACA,kBAAC,GAAD,CAAiBmH,MAAOtO,KAAKwL,MAAM/F,QAASzB,GAAG,cAK9C,kBAAC,GAAD,U,GA5CQgO,aAiDN+B,gBACb,SAAAvI,GAAK,MAAK,CACR1G,OAAQ0G,EAAM1G,OACdQ,MAAOkG,EAAMlG,MACbG,QAAS+F,EAAM/F,WAJJsO,CAMbuG,ICnEa,I,OAAA,SAAAzI,GAAK,OAClB,yBAAKgD,OAAQhD,EAAMgD,OAAQ9C,MAAOF,EAAME,MAAO+C,QAAQ,YAAYC,MAAM,8BACxE,wCACA,uBAAGC,KAAK,UAAUC,OAAO,UAAUC,cAAc,QAAQC,YAAY,KACpE,0BAAMH,KAAK,OAAOC,OAAO,UAAUG,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAAIC,GAAG,OAC7D,0BAAMP,KAAK,OAAOC,OAAO,UAAUG,GAAG,KAAKC,GAAG,IAAIC,GAAG,KAAKC,GAAG,WCLlD,YAAA1D,GAAK,OAClB,yBAAKgD,OAAQhD,EAAMgD,OAAQ9C,MAAOF,EAAME,MAAO+C,QAAQ,YAAYC,MAAM,8BACxE,iDACA,uBAAGC,KAAK,WACP,6BAASA,KAAK,UAAUyF,OAAO,iEAC/B,6BAASzF,KAAK,UAAUyF,OAAO,oEAC/B,6BAASzF,KAAK,UAAUyF,OAAO,uEAC/B,6BAASzF,KAAK,UAAUyF,OAAO,oEAC/B,6BAASA,OAAO,qJCRL,YAAA5I,GAAK,OAClB,yBAAKgD,OAAQhD,EAAMgD,OAAQ9C,MAAOF,EAAME,MAAO+C,QAAQ,YAAYC,MAAM,8BACxE,2CACA,uBAAGC,KAAK,WACP,0BAAM0F,EAAE,uKAAuK1F,KAAK,eCJzK,YAAAnD,GAAK,OAClB,yBAAKgD,OAAQhD,EAAMgD,OAAQ9C,MAAOF,EAAME,MAAO+C,QAAQ,YAAYC,MAAM,8BACxE,4CACA,uBAAGC,KAAK,WACP,0BAAMH,OAAO,KAAK9C,MAAM,KAAKiD,KAAK,UAAU2F,EAAE,IAAIC,EAAE,MACpD,0BAAM/F,OAAO,KAAK9C,MAAM,KAAK4I,EAAE,KAAKC,EAAE,MACtC,0BAAM/F,OAAO,KAAK9C,MAAM,KAAK4I,EAAE,IAAIC,EAAE,OACrC,0BAAM/F,OAAO,KAAK9C,MAAM,KAAKiD,KAAK,UAAU2F,EAAE,KAAKC,EAAE,UCM1CC,I,2LAVX,OACE,yBAAKlJ,UAAU,UACb,4BAAK3R,KAAK6R,MAAMvI,OAChB,2BAAItJ,KAAK6R,MAAMiJ,MACd9a,KAAK6R,MAAMkJ,SAAW,uBAAGpH,KAAM3T,KAAK6R,MAAMkJ,QAASnH,OAAO,SAASC,IAAI,uBAAuB7T,KAAK6R,MAAMmJ,UAAY,a,GANzGhJ,cCDfiJ,GAAe,SAAAzP,GAAK,OAAIA,EAAMrL,MASvB+a,GAAoB,SAAAvZ,GAC/B,OAAO+J,aAR2B,SAAA/J,GAClC,OAAO+J,aACLuP,IACA,SAAA9a,GAAI,OAAIA,EAAKwB,MAMbwZ,CAAqBxZ,IACrB,SAAAgB,GAAY,OAAIA,EAAaX,UAIpBoZ,GAAY,WACvB,OAAO1P,aACLuP,IACA,SAAA9a,GAAI,OAAI+B,OAAOyL,KAAKxN,GAAMkb,MAAK,SAAA1Z,GAAQ,OAA6B,OAAzBxB,EAAKwB,GAAUZ,a,mOCExDua,G,YACJ,WAAYzJ,GAAQ,IAAD,8BACjB,8CAAMA,KAEDrG,MAAQ,CACXmF,oBAAqBf,OAAOe,oBAC5B4K,iBAEc,IAFIrZ,OAAOC,OAAO7C,GAAWqE,QAAO,SAAAhC,GAChD,OAA2C,OAApC,EAAKkQ,MAAM1R,KAAKwB,GAAUK,SAChCmF,OACHqU,sBAAuBJ,KAAY,CAAEjb,KAAM,EAAK0R,MAAM1R,OACtDsb,aAA2D,IAA7CvZ,OAAOwR,QAAQ,EAAK7B,MAAM/M,QAAQqC,QACF,IAA5CjF,OAAOwR,QAAQ,EAAK7B,MAAMvM,OAAO6B,QAVpB,E,kFAejBgL,SAASC,cAAc,qBAAqBmB,UAAUC,IAAI,Y,6CAI1DrB,SAASC,cAAc,qBAAqBmB,UAAUE,OAAO,Y,8BAI7DzT,KAAK6R,MAAMnO,U,oDAGiB2T,GAC5BrX,KAAK6R,MAAM6J,e,2VAAX,IACK1b,KAAK6R,MAAMjD,SADhB,CAEEtM,kBAAmB+U,EAAMzD,OAAOrQ,W,+BAKlC,OACE,yBAAKoO,UAAU,YACZ3R,KAAKwL,MAAMmF,qBAAuB,kBAAC,GAAD,CAAQrH,MAAM,oBAAoBwR,KAAK,0CACzE9a,KAAKwL,MAAM+P,kBAAoB,kBAAC,GAAD,CAAQjS,MAAM,kCAAkCwR,KAAK,+EACpF9a,KAAKwL,MAAMiQ,cAAgB,kBAAC,GAAD,CAAQnS,MAAM,kBAAkBwR,KAAK,yFAAyFE,SAAS,8BAA8BD,QAAQ,qDACxM/a,KAAKwL,MAAMgQ,uBAAyB,kBAAC,GAAD,CAAQlS,MAAM,0BAA0BwR,KAAK,6CAElF,6BAASnJ,UAAU,kBACjB,8CACA,oGACA,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,wBACb,4BAAQA,UAAS,oBAAeuJ,GAAkB5b,EAAUC,UAA5B2b,CAAuC,CAAE/a,KAAMH,KAAK6R,MAAM1R,QAAW,UAApF,aD7CEwB,EC6CiHrC,EAAUC,UD5CnJmM,aACLuP,IACA,SAAA9a,GAAI,OAA6B,OAAzBA,EAAKwB,GAAUZ,UC0C4I,CAAEZ,KAAMH,KAAK6R,MAAM1R,QAAW,QAAU2T,QAAS9T,KAAK6R,MAAM8J,uBACnN,kBAAC,GAAD,CAAe5J,MAAO,GAAI8C,OAAQ,MAEpC,4BAAQ8E,UAAQ,EAAChI,UAAU,WACzB,kBAAC,GAAD,CAAaI,MAAO,GAAI8C,OAAQ,MAElC,4BAAQ8E,UAAQ,EAAChI,UAAU,UACzB,kBAAC,GAAD,CAAYI,MAAO,GAAI8C,OAAQ,MAEjC,uBAAGlD,UAAU,SAASgC,KAAK,mCAAmCC,OAAO,SAASC,IAAI,uBAChF,kBAAC,GAAD,CAAS9B,MAAO,GAAI8C,OAAQ,SAMpC,6BAASlD,UAAU,sBACjB,wCACA,oHACA,4BAAQmC,QAAS9T,KAAK0D,MAAM6S,KAAKvW,OAAjC,SAGA,kDACA,wGACA,4BAAQuD,MAAOvD,KAAK6R,MAAMjD,SAAStM,kBAAmBsZ,SAAU5b,KAAK6b,8BAA8BtF,KAAKvW,OACtG,4BAAQuD,MAAOlE,GAAf,SACA,4BAAQkE,MAAOlE,GAAf,WACA,4BAAQkE,MAAOlE,GAAf,SACA,4BAAQkE,MAAOlE,GAAf,YAIJ,6BAASsS,UAAU,qBACjB,uCACA,qCpExGa,SoEwGQ/B,OAAOe,qBAAuB,YAAnD,KACA,uBAAGgB,UAAU,SAAb,aACY,uBAAGgC,KAAK,mCAAmCC,OAAO,SAASC,IAAI,uBAA/D,eADZ,aAC0H,uBAAGF,KAAK,4CAA4CC,OAAO,SAASC,IAAI,uBAAxE,aAD1H,KAGA,uBAAGlC,UAAU,SAAb,wBAA0C,0BAAMA,UAAU,QAAhB,OAA1C,0IDnFuB,IAAAhQ,M,GCFVqQ,aA4FR+B,gBACb,SAAAvI,GAAK,MAAK,CACRrL,KAAMqL,EAAMrL,KACZyO,SAAUpD,EAAMoD,SAChB9J,OAAQ0G,EAAM1G,OACdQ,MAAOkG,EAAMlG,SAEf,CAAEqW,sBjEhHiC,WACnC,OAAO,SAAA/Z,GACLA,EAASN,EAAa,sBACtBM,EAASE,EAAWxC,EAAUC,aAE9B,IAAIQ,GAAgBmF,UAAUvE,MAAK,SAAAqB,GACjCJ,EAASG,EAAazC,EAAUC,UAAWyC,IAC3CJ,EDT4B,CAChCJ,KAR0B,oBCiBrBV,OAAM,SAAAC,GACPC,QAAQC,IAAIF,GACZa,EAASC,EAAavC,EAAUC,UAAWwB,IAC3Ca,EDb4B,CAChCJ,KAR0B,sBkEyHDkC,SAAOgY,epCxHJ,SAAA9M,GAAQ,MAAK,CACzCpN,KAH6B,kBAI7BC,QAASmN,KoC+GImF,CAQbuH,I,qBCpHIQ,I,mBACJ,WAAYjK,GAAQ,IAAD,8BACjB,8CAAMA,KAEDkK,YAAc,IAAIC,KACvB9Z,OAAOC,OAAO,EAAK0P,MAAM/M,QAAQuJ,SAAQ,SAAAtJ,GACvC,EAAKgX,YAAYvI,IAAIzO,EAAMf,GAA3B,UAAkCe,EAAMjB,KAAxC,YAAgDiB,EAAMiE,cAExD,EAAKiT,WAAa,IAAID,KACtB9Z,OAAOC,OAAO,EAAK0P,MAAMvM,OAAO+I,SAAQ,SAAA9I,GACtC,EAAK0W,WAAWzI,IAAIjO,EAAKvB,GAAzB,UAAgCuB,EAAKzB,KAArC,YAA6CyB,EAAKyD,cAGpD,EAAKwC,MAAQ,CACX3E,MAAO,IAAIqV,gBAAgB,EAAKrK,MAAMhC,SAASsM,QAAQpZ,IAAI,MAAQ,GACnE+B,OAAQ,GACRQ,MAAO,IAfQ,E,kFAoBjBtF,KAAKmc,OAAO,IAAID,gBAAgBlc,KAAK6R,MAAMhC,SAASsM,QAAQpZ,IAAI,Q,6BAG3D8D,GAAQ,IAAD,OACZ7G,KAAKiW,SAAS,CACZpP,MAAOA,GAAS,GAChB/B,OAAQ9E,KAAK+b,YAAYI,OAAOtV,GAAS,IACtCrD,KAAI,SAAA4Y,GAAM,OAAI,EAAKvK,MAAM/M,OAAOsX,MACnC9W,MAAOtF,KAAKic,WAAWE,OAAOtV,GAAS,IACpCrD,KAAI,SAAA4Y,GAAM,OAAI,EAAKvK,MAAMvM,MAAM8W,U,wCAIpB/E,GAChBrX,KAAK6R,MAAM6C,QAAQpM,QAAnB,sBAA0C+O,EAAMzD,OAAOrQ,QACvDvD,KAAKmc,OAAO9E,EAAMzD,OAAOrQ,S,+BAIzB,OACE,yBAAKoO,UAAU,QACb,8BACE,2BAAO0K,WAAS,EAAC9Y,MAAOvD,KAAKwL,MAAM3E,MAAOyV,YAAY,sBAAsBV,SAAU5b,KAAKuc,kBAAkBhG,KAAKvW,SAGnHA,KAAKwL,MAAM1G,OAAOqC,OAAS,GAAK,iCAC/B,sCACA,kBAAC,GAAD,CAAiBmH,MAAOtO,KAAKwL,MAAM1G,OAAQd,GAAG,YAG/ChE,KAAKwL,MAAMlG,MAAM6B,OAAS,GAAK,iCAC9B,wCACA,kBAAC,GAAD,CAAiBmH,MAAOtO,KAAKwL,MAAMlG,MAAOtB,GAAG,gB,GArDpCgO,cA4DJ+B,gBACb,SAAAvI,GAAK,MAAK,CACR1G,OAAQ0G,EAAM1G,OACdQ,MAAOkG,EAAMlG,SAHFyO,CAKb+H,ICtEa,I,OAAA,SAAAjK,GAAK,OAClB,yBAAKkD,MAAM,6BAA6BhD,MAAOF,EAAME,MAAO8C,OAAQhD,EAAMgD,QACxE,0BAAMG,KAAK,OAAOwH,iBAAiB,KAAK9B,EAAE,wCAAwCxF,cAAc,QAAQuH,eAAe,QAAQtH,YAAY,IAAIF,OAAO,UAAUtD,UAAU,eAC1K,2BAAO+K,iBAAe,iBAAtB,ibCaWC,G,oLAXX,OACE,yBAAKhL,UAAU,WACb,yBAAKA,UAAU,oBACb,kBAAC,GAAD,CAAeI,MAAO,GAAI8C,OAAQ,KACjC7U,KAAK6R,MAAMtQ,SAAW,uBAAGoQ,UAAU,SAAS3R,KAAK6R,MAAMtQ,e,GAN5CyQ,aCHP,I,OAAA,SAAAH,GAAK,OAClB,yBAAKgD,OAAQhD,EAAMgD,OAAQ9C,MAAOF,EAAME,MAAO+C,QAAQ,YAAYC,MAAM,8BACxE,0CACA,uBAAGC,KAAK,WACP,6BAASA,KAAK,OAAOyF,OAAO,2BAA2BxF,OAAO,UAAUC,cAAc,QAAQC,YAAY,MAC1G,0BAAMuF,EAAE,wGAAwG1F,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,MAC/K,0BAAMH,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,MAClG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,UCPzF,YAAA1D,GAAK,OAClB,yBAAKgD,OAAQhD,EAAMgD,OAAQ9C,MAAOF,EAAME,MAAO+C,QAAQ,YAAYC,MAAM,8BACxE,2CACA,uBAAGC,KAAK,WACP,0BAAMA,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,OACjG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAAIC,GAAG,OACnG,0BAAMV,OAAO,KAAK9C,MAAM,KAAKiD,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIwF,EAAE,IAAIC,EAAE,MACxG,0BAAM5F,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,OACnG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,MACjG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,MACjG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAAIC,GAAG,MACnG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAAIC,GAAG,MACnG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,OACpG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,OACpG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,OAClG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,UCfvF,YAAA1D,GAAK,OAClB,yBAAKgD,OAAQhD,EAAMgD,OAAQ9C,MAAOF,EAAME,MAAO+C,QAAQ,YAAYC,MAAM,8BACxE,iDACA,uBAAGC,KAAK,WACP,0BAAMA,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,OACpG,0BAAMP,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,OACnG,0BAAMV,OAAO,KAAK9C,MAAM,KAAKiD,KAAK,OAAOC,OAAO,UAAUC,cAAc,QAAQC,YAAY,IAAIwF,EAAE,IAAIC,EAAE,SCN7F,YAAA/I,GAAK,OAClB,yBAAKgD,OAAQhD,EAAMgD,OAAQ9C,MAAOF,EAAME,MAAO+C,QAAQ,YAAYC,MAAM,8BACxE,gDACA,uBAAGC,KAAK,UAAUC,OAAO,UAAUC,cAAc,QAAQC,YAAY,KACpE,4BAAQK,GAAG,KAAKC,GAAG,KAAKT,KAAK,OAAOU,EAAE,MACtC,0BAAMgF,EAAE,uXAAuX1F,KAAK,OAAOC,OAAO,eCGhZ2H,G,oLAEF,OACE,yBAAKjL,UAAU,OACb,kBAAC,IAAD,CAAMe,GAAG,QACP,kBAAC,GAAD,CAAaX,MAAO,GAAI8C,OAAQ,KAChC,uCAEF,kBAAC,IAAD,CAAM8E,SAAuD,IAA7CzX,OAAOwR,QAAQ1T,KAAK6R,MAAM/M,QAAQqC,OAAcuL,GAAG,eACjE,kBAAC,GAAD,CAAWX,MAAO,GAAI8C,OAAQ,KAC9B,sCAEF,kBAAC,IAAD,CAAM8E,SAAsD,IAA5CzX,OAAOwR,QAAQ1T,KAAK6R,MAAMvM,OAAO6B,OAAcuL,GAAG,cAChE,kBAAC,GAAD,CAAUX,MAAO,GAAI8C,OAAQ,KAC7B,qCAEF,kBAAC,IAAD,CAAMnC,GAAG,iBACP,kBAAC,GAAD,CAAUX,MAAO,GAAI8C,OAAQ,KAC7B,6C,GAlBQ7C,aAyBH+B,gBACb,SAAAvI,GAAK,MAAK,CACR1G,OAAQ0G,EAAM1G,OACdQ,MAAOkG,EAAMlG,SAHFyO,CAKb6I,ICbIC,G,YACJ,WAAYhL,GAAQ,IAAD,6BACjB,8CAAMA,IAIN,IAAI9R,EALa,E,kFASjB,IAAIwR,GAAiBvR,KAAK6R,MAAMhE,QAAS7N,KAAK6R,MAAMnO,OAAOwB,WACzD,IAAI4L,GACF9Q,KAAK6R,MAAMvP,kBACXtC,KAAK6R,MAAMrD,YACXxO,KAAK6R,MAAMnO,OACXwB,Y,+BAIJ,OAAIlF,KAAK6R,MAAM9C,QACN,kBAAC,GAAD,CAASxN,QAASvB,KAAK6R,MAAM9C,UAGlC,yBAAK4C,UAAU,OACZyJ,KAAY,CAAEjb,KAAMH,KAAK6R,MAAM1R,QAAW,kBAAC,IAAD,CAAUuS,GAAE,UAAK1S,KAAK6R,MAAM9B,MAAMpH,KAAtB,eAEvD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOA,KAAI,UAAK3I,KAAK6R,MAAM9B,MAAMpH,KAAtB,KAA+BmU,OAAK,EAACpF,UAAWxE,KAC3D,kBAAC,IAAD,CAAOvK,KAAI,UAAK3I,KAAK6R,MAAM9B,MAAMpH,KAAtB,WAAqC+O,UAAW/B,KAC3D,kBAAC,IAAD,CAAOhN,KAAI,UAAK3I,KAAK6R,MAAM9B,MAAMpH,KAAtB,cAAwCmU,OAAK,EAACpF,UAAWc,KACpE,kBAAC,IAAD,CAAO7P,KAAI,UAAK3I,KAAK6R,MAAM9B,MAAMpH,KAAtB,UAAoC+O,UAAWuB,KAC1D,kBAAC,IAAD,CAAOtQ,KAAI,UAAK3I,KAAK6R,MAAM9B,MAAMpH,KAAtB,aAAuCmU,OAAK,EAACpF,UAAWwB,KACnE,kBAAC,IAAD,CAAOvQ,KAAI,UAAK3I,KAAK6R,MAAM9B,MAAMpH,KAAtB,eAAyCmU,OAAK,EAACpF,UAAW2B,KACrE,kBAAC,IAAD,CAAO1Q,KAAI,UAAK3I,KAAK6R,MAAM9B,MAAMpH,KAAtB,eAAyCmU,OAAK,EAACpF,UAAW4C,KACrE,kBAAC,IAAD,CAAO3R,KAAI,UAAK3I,KAAK6R,MAAM9B,MAAMpH,KAAtB,aAAuCmU,OAAK,EAACpF,UAAW4D,KACnE,kBAAC,IAAD,CAAO3S,KAAI,UAAK3I,KAAK6R,MAAM9B,MAAMpH,KAAtB,SAAmCmU,OAAK,EAACpF,UAAWoE,KAC/D,kBAAC,IAAD,CAAOpE,UAAW7B,MAGpB,kBAAC,GAAD,W,GAvCQ7D,aA8CH+B,gBACb,SAAAvI,GAAK,MAAK,CACRuD,QAASvD,EAAMuD,QACflB,QAASrC,EAAMqC,QACf1N,KAAMqL,EAAMrL,KACZqO,YAAahD,EAAMqD,SAASL,YAC5BlM,kBAAmBkJ,EAAMoD,SAAStM,qBAEpC,CAAEoB,UARWqQ,CASb8I,IC/DaE,I,2LAbX,OACE,yBAAKpL,UAAU,WACb,iEACA,yBAAKA,UAAU,oBACb,wIACA,kBAAC,IAAD,CAAMe,GAAG,OAAOf,UAAU,kBAA1B,UACA,uBAAGgC,KAAK,mDAAmDC,OAAO,SAASC,IAAI,sBAAsBlC,UAAU,UAA/G,sB,GARYK,cCDhBgL,G,8LACeC,GACbjd,KAAK6R,MAAMhC,WAAaoN,EAAUpN,UACpCD,OAAOsN,SAAS,EAAG,K,+BAKrB,OAAOld,KAAK6R,MAAMvO,a,GARI0O,aAYXmL,eAAWH,I,OCM1BI,IAASC,OACP,kBAAC,IAAD,CAAUC,MAAOA,IACf,kBAAC,KAAD,CAAavO,QAAS,kBAAC,GAAD,CAASxN,QAAQ,eAAiBgc,UAAWC,YAAaF,KAC9E,kBAAC,IAAD,CAAQG,SAAS,WACf,kBAAC,GAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO9U,KAAK,IAAImU,OAAK,EAACpF,UAAWqF,KACjC,kBAAC,IAAD,CAAOpU,KAAK,OAAO+O,UAAWmF,KAC9B,kBAAC,IAAD,CAAOnF,UAAW7B,UAM5B1D,SAASuL,eAAe,S1CbnB,SAAkBrd,GACvB,GAA6C,kBAAmB6P,UAAW,CAGzE,GADkB,IAAIyN,IAAItc,UAAwBuO,OAAOC,SAAS8D,MACpDiK,SAAWhO,OAAOC,SAAS+N,OAKvC,OAGFhO,OAAOiO,iBAAiB,QAAQ,WAC9B,IAAM5N,EAAK,UAAM5O,UAAN,sBAEPqO,KAqEV,SAAiCO,EAAO5P,GAEtCqI,MAAMuH,GACHtP,MAAK,SAAAC,GAEJ,IAAMkd,EAAcld,EAAS8G,QAAQ3E,IAAI,gBAEnB,MAApBnC,EAASmd,QACO,MAAfD,IAA8D,IAAvCA,EAAYE,QAAQ,cAG5C9N,UAAUC,cAAc8N,MAAMtd,MAAK,SAAA0P,GACjCA,EAAa6N,aAAavd,MAAK,WAC7BiP,OAAOC,SAASsO,eAKpBnO,GAAgBC,EAAO5P,MAG1BS,OAAM,WACLE,QAAQC,IACN,oEAzFAmd,CAAwBnO,EAAO5P,GAI/B6P,UAAUC,cAAc8N,MAAMtd,MAAK,WACjCK,QAAQC,IACN,iHAMJ+O,GAAgBC,EAAO5P,O0CX/B8P,K","file":"static/js/main.b8b33f9e.chunk.js","sourcesContent":["export const VERSION = '0.0.1'\n\nexport const AUTOMATIC_INDEXING = {\n  NEVER: 'never',\n  MONTHLY: 'monthly',\n  DAILY: 'daily',\n  ALWAYS: 'always'\n}\n\nexport const PROVIDERS = {\n  MICROSOFT: 'microsoft'\n}\n\nexport const STORAGE_PROVIDERS = {\n  [PROVIDERS.MICROSOFT]: 'OneDrive'\n}\n\nexport const ITEM_TYPES = {\n  MOVIE: 'movie',\n  SHOW: 'show',\n  SEASON: 'season',\n  EPISODE: 'episode'\n}\n\nexport const FILE_TYPES = {\n  SOURCE: 'source',\n  CAPTION: 'caption'\n}\n\nexport const SOURCE_EXTENSIONS = ['mp4', 'm4v', 'mkv', 'webm']\nexport const CAPTION_EXTENSIONS = ['vtt']\n","import { UserAgentApplication } from 'msal'\n\nclass MicrosoftAuth {\n  static config = {\n    clientID: process.env.REACT_APP_MICROSOFT_CLIENT_ID,\n    scopes: ['user.read', 'files.read.all']\n  }\n\n  constructor() {\n    this._userAgentApplication = new UserAgentApplication({\n      auth: {\n        clientId: MicrosoftAuth.config.clientID\n      }\n    })\n  }\n\n  perform() {\n    return this.silentLogIn()\n  }\n\n  silentLogIn() {\n    return this.userAgentApplication.acquireTokenSilent({\n      scopes: MicrosoftAuth.config.scopes\n    }).then(response => {\n      return response.accessToken\n    }).catch(error => {\n      console.log(error)\n      return this.popupLogIn()\n    })\n  }\n\n  popupLogIn() {\n    return this.userAgentApplication.loginPopup({\n      scopes: MicrosoftAuth.config.scopes,\n      prompt: 'select_account'\n    }).then(() => {\n      return this.userAgentApplication.acquireTokenSilent({\n        scopes: MicrosoftAuth.config.scopes\n      })\n    }).then(response => {\n      return response.accessToken\n    })\n  }\n\n  get userAgentApplication() {\n    return this._userAgentApplication\n  }\n}\n\nexport default MicrosoftAuth\n","export const LOADING_BEGIN = 'LOADING_BEGIN'\nexport const LOADING_STOP = 'LOADING_STOP'\n\nexport const loadingBegin = caption => ({\n  type: LOADING_BEGIN,\n  payload: caption\n})\n\nexport const loadingStop = () => ({\n  type: LOADING_STOP\n})\n","import { PROVIDERS } from '../constants'\n\nimport MicrosoftAuth from '../services/auth/MicrosoftAuth'\n\nimport { loadingBegin, loadingStop } from './loading'\n\nexport const LOG_IN_BEGIN = 'LOG_IN_BEGIN'\nexport const LOG_IN_SUCCESS = 'LOG_IN_SUCCESS'\nexport const LOG_IN_FAILURE = 'LOG_IN_FAILURE'\n\nexport const authenticateMicrosoft = () => {\n  return dispatch => {\n    dispatch(loadingBegin('Authenticating...'))\n    dispatch(logInBegin(PROVIDERS.MICROSOFT))\n\n    new MicrosoftAuth().perform().then(token => {\n      dispatch(logInSuccess(PROVIDERS.MICROSOFT, token))\n      dispatch(loadingStop())\n    }).catch(error => {\n      console.log(error)\n      dispatch(logInFailure(PROVIDERS.MICROSOFT, error))\n      dispatch(loadingStop())\n    })\n  }\n}\n\nexport const logInExpired = provider => {\n  return dispatch => dispatch(logInFailure(provider, 'expired'))\n}\n\nconst logInBegin = provider => ({\n  type: LOG_IN_BEGIN,\n  payload: provider\n})\n\nconst logInSuccess = (provider, token) => ({\n  type: LOG_IN_SUCCESS,\n  payload: { provider, token }\n})\n\nconst logInFailure = (provider, error) => ({\n  type: LOG_IN_FAILURE,\n  payload: { provider, error }\n})\n","import { PROVIDERS } from '../constants'\n\nimport { LOG_IN_BEGIN, LOG_IN_SUCCESS, LOG_IN_FAILURE } from '../actions/auth'\n\nconst initialState = Object.values(PROVIDERS).reduce((o, provider) => ({\n  ...o,\n  [provider]: {\n    token: null,\n    error: null\n  }\n}), {})\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case LOG_IN_BEGIN:\n    return {\n      ...state,\n      [action.payload]: {\n        ...state[action.payload],\n        error: null\n      }\n    }\n  case LOG_IN_SUCCESS:\n    return {\n      ...state,\n      [action.payload.provider]: {\n        ...state[action.payload.provider],\n        token: action.payload.token,\n        error: null\n      }\n    }\n  case LOG_IN_FAILURE:\n    return {\n      ...state,\n      [action.payload.provider]: {\n        ...state[action.payload.provider],\n        error: action.payload.error\n      }\n    }\n  default:\n    return state\n  }\n}\n","import { AUTOMATIC_INDEXING } from '../constants'\n\nimport { SETTINGS_UPDATE } from '../actions/settings'\n\nconst initialState = {\n  automaticIndexing: AUTOMATIC_INDEXING.NEVER\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case SETTINGS_UPDATE:\n    return {\n      ...state,\n      ...action.payload\n    }\n  default:\n    return state\n  }\n}\n","import { Client } from '@microsoft/microsoft-graph-client'\n\nclass OneDrive {\n  constructor(accessToken) {\n    this._client = Client.init({\n      authProvider: done => done(null, accessToken)\n    })\n  }\n\n  movies() {\n    return this.client.api('/me/drive/root:/Plaain/Movies:/children').get()\n  }\n\n  shows() {\n    return this.client.api('/me/drive/root:/Plaain/Shows:/children').get()\n  }\n\n  children(itemId) {\n    return this.client.api(`/me/drive/items/${itemId}/children`).get()\n  }\n\n  get client() {\n    return this._client\n  }\n}\n\nexport default OneDrive\n","import {\n  PROVIDERS,\n  FILE_TYPES,\n  SOURCE_EXTENSIONS,\n  CAPTION_EXTENSIONS\n} from '../../constants'\n\nclass IndexFiles {\n  constructor(oneDrive, folderId) {\n    this._oneDrive = oneDrive\n    this._folderId = folderId\n  }\n\n  perform() {\n    return this.oneDrive.children(this.folderId).then(response => {\n      return response.value.map(item => this.index(item))\n        .filter(source => source != null)\n    })\n  }\n\n  index(item) {\n    const type = IndexFiles.fileType(item.name)\n    if (item.file == null || type == null) {\n      return null\n    }\n\n    return {\n      provider: PROVIDERS.MICROSOFT,\n      id: item.id,\n      type: type,\n      name: item.name,\n      extension: IndexFiles.fileExtension(item.name),\n      information: IndexFiles.fileInformation(item.name),\n      mimeType: item.file.mimeType,\n      url: item['@microsoft.graph.downloadUrl']\n    }\n  }\n\n  static fileType(fileName) {\n    if (SOURCE_EXTENSIONS.includes(IndexFiles.fileExtension(fileName))) {\n      return FILE_TYPES.SOURCE\n    } else if (\n      CAPTION_EXTENSIONS.includes(IndexFiles.fileExtension(fileName))\n    ) {\n      return FILE_TYPES.CAPTION\n    } else {\n      return null\n    }\n  }\n\n  static fileExtension(fileName) {\n    return fileName.split('.').pop()\n  }\n\n  static fileInformation(fileName) {\n    return fileName.split('.').shift()\n  }\n\n  get oneDrive() {\n    return this._oneDrive\n  }\n\n  get folderId() {\n    return this._folderId\n  }\n}\n\nexport default IndexFiles\n","import { PROVIDERS, ITEM_TYPES } from '../../constants'\n\nimport OneDrive from '../drives/OneDrive'\n\nimport IndexFiles from './IndexFiles'\n\nclass IndexMovies {\n  constructor(accessToken) {\n    this._oneDrive = new OneDrive(accessToken)\n  }\n\n  async perform() {\n    return await Promise.all(await this.oneDrive.movies().then(response => {\n      return response.value.map(item => this.index(item))\n    })).then(movies => movies.filter(movie => movie !== null))\n  }\n\n  async index(item) {\n    if (item.folder == null) {\n      return null\n    }\n\n    const files = await new IndexFiles(this.oneDrive, item.id).perform()\n\n    return {\n      provider: PROVIDERS.MICROSOFT,\n      type: ITEM_TYPES.MOVIE,\n      providerId: item.id,\n      name: item.name,\n      files: files\n    }\n  }\n\n  get oneDrive() {\n    return this._oneDrive\n  }\n}\n\nexport default IndexMovies\n","import { PROVIDERS, ITEM_TYPES } from '../../constants'\n\nimport OneDrive from '../drives/OneDrive'\n\nclass IndexShows {\n  constructor(accessToken) {\n    this._oneDrive = new OneDrive(accessToken)\n  }\n\n  async perform() {\n    return await Promise.all(await this.oneDrive.shows().then(response => {\n      return response.value.map(item => this.index(item))\n    })).then(shows => shows.filter(show => show !== null))\n  }\n\n  async index(item) {\n    if (item.folder == null) {\n      return null\n    }\n\n    return {\n      provider: PROVIDERS.MICROSOFT,\n      type: ITEM_TYPES.SHOW,\n      providerId: item.id,\n      name: item.name\n    }\n  }\n\n  get oneDrive() {\n    return this._oneDrive\n  }\n}\n\nexport default IndexShows\n","import { PROVIDERS } from '../../constants'\n\nimport OneDrive from '../drives/OneDrive'\n\nclass IndexSeasons {\n  constructor(accessToken, shows, seasons) {\n    this._oneDrive = new OneDrive(accessToken)\n    this._shows = shows\n    this._seasons = seasons\n  }\n\n  async perform() {\n    return [].concat(...await Promise.all(\n      this.shows.map(show => this.performForShow(show, this.seasons))\n    ))\n  }\n\n  async performForShow(show, seasons) {\n    return await this.oneDrive.children(show.providerId).then(response => {\n      return seasons.filter(season => season.showId === show.id).map(season => {\n        const item = response.value.find(item => {\n          return season.id === `${show.id}-${Number.parseInt(item.name)}`\n        })\n\n        if (item) {\n          return {\n            ...season,\n            provider: PROVIDERS.MICROSOFT,\n            providerId: item.id\n          }\n        } else {\n          return season\n        }\n      })\n    })\n  }\n\n  get oneDrive() {\n    return this._oneDrive\n  }\n\n  get shows() {\n    return this._shows\n  }\n\n  get seasons() {\n    return this._seasons\n  }\n}\n\nexport default IndexSeasons\n","import { PROVIDERS } from '../../constants'\n\nimport OneDrive from '../drives/OneDrive'\n\nimport IndexFiles from './IndexFiles'\n\nclass IndexEpisodes {\n  constructor(accessToken, seasons, episodes) {\n    this._oneDrive = new OneDrive(accessToken)\n    this._seasons = seasons\n    this._episodes = episodes\n  }\n\n  async perform() {\n    return [].concat(...await Promise.all(\n      this.seasons.map(season => this.performForSeason(season, this.episodes))\n    ))\n  }\n\n  async performForSeason(season, episodes) {\n    if (season.providerId) {\n      return await this.oneDrive.children(season.providerId)\n        .then(response => this.handleResponse(response, season, episodes))\n    } else {\n      return episodes.filter(episode => episode.seasonId === season.id)\n    }\n  }\n\n  async handleResponse(response, season, episodes) {\n    return await Promise.all(\n      episodes.filter(episode => episode.seasonId === season.id)\n        .map(episode => {\n          return this.index(\n            episode,\n            response.value.find(item => {\n              return episode.id === `${season.id}-${Number.parseInt(item.name)}`\n            })\n          )\n        })\n    )\n  }\n\n  async index(episode, item) {\n    if (item) {\n      const files = await new IndexFiles(this.oneDrive, item.id).perform()\n      return {\n        ...episode,\n        provider: PROVIDERS.MICROSOFT,\n        providerId: item.id,\n        files: files\n      }\n    } else {\n      return episode\n    }\n  }\n\n  get oneDrive() {\n    return this._oneDrive\n  }\n\n  get seasons() {\n    return this._seasons\n  }\n\n  get episodes() {\n    return this._episodes\n  }\n}\n\nexport default IndexEpisodes\n","const rp = require('request-promise')\n\nclass TMDb {\n  static config = {\n    qs: {\n      api_key: process.env.REACT_APP_TMDB_API_KEY,\n      language: 'en-US'\n    },\n    headers: {\n      'User-Agent': 'Request-Promise'\n    },\n    json: true\n  }\n\n  static base_uri = 'https://api.themoviedb.org/3'\n\n  async findMovie(query) {\n    await TMDb.rateLimiting()\n    return rp({\n      ...TMDb.config,\n      uri: `${TMDb.base_uri}/search/movie`,\n      qs: {...TMDb.config.qs, query}\n    }).then(response => {\n      if (response.results.length < 1) {\n        return null\n      }\n\n      return response.results[0].id\n    })\n  }\n\n  async findShow(query) {\n    await TMDb.rateLimiting()\n    return rp({\n      ...TMDb.config,\n      uri: `${TMDb.base_uri}/search/tv`,\n      qs: {...TMDb.config.qs, query}\n    }).then(response => {\n      if (response.results.length < 1) {\n        return null\n      }\n\n      return response.results[0].id\n    })\n  }\n\n  async movie(id) {\n    await TMDb.rateLimiting()\n    return rp({...TMDb.config, uri: `${TMDb.base_uri}/movie/${id}`})\n  }\n\n  async movieCredits(id) {\n    await TMDb.rateLimiting()\n    return rp({...TMDb.config, uri: `${TMDb.base_uri}/movie/${id}/credits`})\n  }\n\n  async show(id) {\n    await TMDb.rateLimiting()\n    return rp({...TMDb.config, uri: `${TMDb.base_uri}/tv/${id}`})\n  }\n\n  async season(showId, seasonNumber) {\n    await TMDb.rateLimiting()\n    return rp({\n      ...TMDb.config,\n      uri: `${TMDb.base_uri}/tv/${showId}/season/${seasonNumber}`\n    })\n  }\n\n  async seasonCredits(showId, seasonNumber) {\n    await TMDb.rateLimiting()\n    return rp({\n      ...TMDb.config,\n      uri: `${TMDb.base_uri}/tv/${showId}/season/${seasonNumber}/credits`\n    })\n  }\n\n  async episode(showId, seasonNumber, episodeNumber) {\n    await TMDb.rateLimiting()\n    return rp({\n      ...TMDb.config,\n      uri: `${TMDb.base_uri}/tv/${showId}/season/${seasonNumber}/episode` +\n           `/${episodeNumber}`\n    })\n  }\n\n  // TMDb only allows for up to 4 requests per second:\n  // https://developers.themoviedb.org/3/getting-started/request-rate-limiting\n  static async rateLimiting() {\n    await new Promise(resolve => setTimeout(resolve, 250))\n  }\n}\n\nexport default TMDb\n","import { ITEM_TYPES } from '../../constants'\n\nimport TMDb from '../databases/TMDb'\n\nclass FetchAllSeasons {\n  constructor(shows) {\n    this._shows = shows\n    this._tmdb = new TMDb()\n  }\n\n  async perform() {\n    return [].concat(...await Promise.all(\n      this.shows.map(show => {\n        return this.tmdb.show(show.id).then(response => {\n          return response.seasons.map(season => ({\n            id: `${show.id}-${season.season_number}`,\n            type: ITEM_TYPES.SEASON,\n            seasonNumber: season.season_number,\n            showId: show.id,\n            providerId: null\n          }))\n        })\n      })\n    ))\n  }\n\n  get shows() {\n    return this._shows\n  }\n\n  get tmdb() {\n    return this._tmdb\n  }\n}\n\nexport default FetchAllSeasons\n","import { ITEM_TYPES } from '../../constants'\n\nimport TMDb from '../databases/TMDb'\n\nclass FetchAllEpisodes {\n  constructor(seasons) {\n    this._seasons = seasons\n    this._tmdb = new TMDb()\n  }\n\n  async perform() {\n    return [].concat(...await Promise.all(\n      this.seasons.map(season => {\n        return this.tmdb.season(season.showId, season.seasonNumber)\n          .then(response => {\n            return response.episodes.map(episode => ({\n              id: `${season.id}-${episode.episode_number}`,\n              type: ITEM_TYPES.EPISODE,\n              episodeNumber: episode.episode_number,\n              seasonId: season.id,\n              providerId: null\n            }))\n          })\n      })\n    ))\n  }\n\n  get seasons() {\n    return this._seasons\n  }\n\n  get tmdb() {\n    return this._tmdb\n  }\n}\n\nexport default FetchAllEpisodes\n","class Parametrize {\n  constructor(string) {\n    this._string = string\n  }\n\n  perform() {\n    return this.string.toLowerCase().replace(/\\s/g, '+')\n  }\n\n  get string() {\n    return this._string\n  }\n}\n\nexport default Parametrize\n","import TMDb from '../databases/TMDb'\nimport Parametrize from '../Parametrize'\n\nclass FetchMovie {\n  constructor(movie) {\n    this._movie = movie\n    this._tmdb = new TMDb()\n  }\n\n  perform() {\n    return this.tmdb.findMovie(this.movie.name)\n      .then(id => this.fetch(id))\n  }\n\n  async fetch(id) {\n    this.movie.id = id\n    this.movie.path = `/app/movie/${this.movie.id}`\n\n    if (this.movie.id === null) {\n      return\n    }\n\n    await Promise.all([\n      this.fetchDetails(),\n      this.fetchCredits()\n    ])\n\n    return this.movie\n  }\n\n  fetchDetails() {\n    return this.tmdb.movie(this.movie.id)\n      .then(response => {\n        this.movie.backdropUrl =\n          `https://image.tmdb.org/t/p/original${response.backdrop_path}`\n        this.movie.overview = response.overview\n        this.movie.posterUrl =\n          `https://image.tmdb.org/t/p/original${response.poster_path}`\n        this.movie.releaseDate = response.release_date\n        this.movie.runtime = response.runtime\n        this.movie.name = response.title\n        this.movie.trailerLink =\n          'https://www.youtube.com/results?search_query=' +\n          `${new Parametrize(this.movie.name).perform()}+official+trailer`\n      })\n  }\n\n  fetchCredits() {\n    return this.tmdb.movieCredits(this.movie.id)\n      .then(response => {\n        this.movie.cast = response.cast.map(castMember => ({\n          id: castMember.id,\n          character: castMember.character,\n          name: castMember.name,\n          gender: castMember.gender,\n          profileUrl: `https://image.tmdb.org/t/p/original${castMember.profile_path}`\n        }))\n        this.movie.crew = response.crew.map(crewMember => ({\n          id: crewMember.id,\n          job: crewMember.job,\n          name: crewMember.name,\n          gender: crewMember.gender,\n          profileUrl: `https://image.tmdb.org/t/p/original${crewMember.profile_path}`\n        }))\n      })\n  }\n\n  get movie() {\n    return this._movie\n  }\n\n  get tmdb() {\n    return this._tmdb\n  }\n}\n\nexport default FetchMovie\n","import FetchMovie from '../services/fetching/FetchMovie'\n\nexport const REMOVE_MOVIE = 'REMOVE_MOVIE'\nexport const UPDATE_MOVIE = 'UPDATE_MOVIE'\n\nexport const fetchMovie = movie => {\n  return dispatch => {\n    return new FetchMovie(movie).perform().then(fetchedMovie => {\n      dispatch(updateMovie(fetchedMovie))\n    }).catch(() => dispatch(fetchMovie(movie)))\n  }\n}\n\nexport const removeMovie = id => ({\n  type: REMOVE_MOVIE,\n  payload: id\n})\n\nexport const updateMovie = movie => ({\n  type: UPDATE_MOVIE,\n  payload: movie\n})\n","import TMDb from '../databases/TMDb'\n\nclass FetchShow {\n  constructor(show) {\n    this._show = show\n    this._tmdb = new TMDb()\n  }\n\n  perform() {\n    return this.tmdb.findShow(this.show.name).then(id => this.fetch(id))\n  }\n\n  async fetch(id) {\n    this.show.id = id\n    this.show.path = `/app/show/${this.show.id}`\n\n    if (this.show.id === null) {\n      return\n    }\n\n    await Promise.all([\n      this.fetchDetails()\n    ])\n\n    return this.show\n  }\n\n  fetchDetails() {\n    return this.tmdb.show(this.show.id)\n      .then(response => {\n        this.show.backdropUrl =\n          `https://image.tmdb.org/t/p/original${response.backdrop_path}`\n        this.show.firstAirDate = response.first_air_date\n        this.show.lastAirDate = response.last_air_date\n        this.show.name = response.name\n        this.show.overview = response.overview\n        this.show.posterUrl =\n          `https://image.tmdb.org/t/p/original${response.poster_path}`\n      })\n  }\n\n  get show() {\n    return this._show\n  }\n\n  get tmdb() {\n    return this._tmdb\n  }\n}\n\nexport default FetchShow\n","import FetchShow from '../services/fetching/FetchShow'\n\nexport const REMOVE_SHOW = 'REMOVE_SHOW'\nexport const UPDATE_SHOW = 'UPDATE_SHOW'\n\nexport const fetchShow = show => {\n  return dispatch => {\n    return new FetchShow(show).perform().then(fetchedShow => {\n      dispatch(updateShow(fetchedShow))\n    }).catch(() => dispatch(fetchShow(show)))\n  }\n}\n\nexport const removeShow = id => ({\n  type: REMOVE_SHOW,\n  payload: id\n})\n\nexport const updateShow = show => ({\n  type: UPDATE_SHOW,\n  payload: show\n})\n","import TMDb from '../databases/TMDb'\nimport Parametrize from '../Parametrize'\n\nclass FetchSeason {\n  constructor(showId, showName, season) {\n    this._show = { id: showId, name: showName }\n    this._season = season\n    this._tmdb = new TMDb()\n  }\n\n  async perform() {\n    this.season.id = `${this.show.id}-${this.season.seasonNumber}`\n    this.season.path = `/app/season/${this.season.id}`\n\n    await Promise.all([\n      this.fetchDetails(),\n      this.fetchCredits()\n    ])\n\n    return this.season\n  }\n\n  fetchDetails() {\n    return this.tmdb.season(this.show.id, this.season.seasonNumber)\n      .then(response => {\n        this.season.airDate = response.air_date\n        this.season.name = response.name\n        this.season.overview = response.overview\n        this.season.posterUrl =\n          `https://image.tmdb.org/t/p/original${response.poster_path}`\n        this.season.trailerLink =\n          'https://www.youtube.com/results?search_query=' +\n          `${new Parametrize(this.show.name).perform()}+` +\n          `${new Parametrize(this.season.name).perform()}+` +\n          'official+trailer&i=movies-tv'\n      })\n  }\n\n  fetchCredits() {\n    return this.tmdb.seasonCredits(this.show.id, this.season.seasonNumber)\n      .then(response => {\n        this.season.cast = response.cast.map(castMember => ({\n          id: castMember.id,\n          character: castMember.character,\n          name: castMember.name,\n          gender: castMember.gender,\n          profileUrl: `https://image.tmdb.org/t/p/original${castMember.profile_path}`\n        }))\n        this.season.crew = response.crew.map(crewMember => ({\n          id: crewMember.id,\n          job: crewMember.job,\n          name: crewMember.name,\n          gender: crewMember.gender,\n          profileUrl: `https://image.tmdb.org/t/p/original${crewMember.profile_path}`\n        }))\n      })\n  }\n\n  get show() {\n    return this._show\n  }\n\n  get season() {\n    return this._season\n  }\n\n  get tmdb() {\n    return this._tmdb\n  }\n}\n\nexport default FetchSeason\n","import { createSelector } from 'reselect'\n\nconst showsSelector = state => state.shows\n\nexport const showSelector = id => {\n  return createSelector(\n    showsSelector,\n    shows => shows[id]\n  )\n}\n","import FetchSeason from '../services/fetching/FetchSeason'\n\nimport { showSelector } from '../selectors/shows'\n\nexport const REMOVE_SEASON = 'REMOVE_SEASON'\nexport const UPDATE_SEASON = 'UPDATE_SEASON'\n\nexport const fetchSeason = season => {\n  return (dispatch, getState) => {\n    const show = showSelector(season.showId)(getState())\n    return new FetchSeason(\n      show.id,\n      show.name,\n      season\n    ).perform().then(fetchedSeason => {\n      dispatch(updateSeason(fetchedSeason))\n    }).catch(() => dispatch(fetchSeason(season)))\n  }\n}\n\nexport const removeSeason = id => ({\n  type: REMOVE_SEASON,\n  payload: id\n})\n\nexport const updateSeason = season => ({\n  type: UPDATE_SEASON,\n  payload: season\n})\n","import TMDb from '../databases/TMDb'\n\nclass FetchEpisode {\n  constructor(\n    showId,\n    showName,\n    seasonNumber,\n    seasonName,\n    episode\n  ) {\n    this._show = { id: showId, name: showName }\n    this._season = { seasonNumber, name: seasonName }\n    this._episode = episode\n    this._tmdb = new TMDb()\n  }\n\n  async perform() {\n    this.episode.id =\n      `${this.show.id}-${this.season.seasonNumber}-` +\n      `${this.episode.episodeNumber}`\n\n    await Promise.all([\n      this.fetchDetails()\n    ])\n\n    return this.episode\n  }\n\n  fetchDetails() {\n    return this.tmdb.episode(\n      this.show.id, this.season.seasonNumber, this.episode.episodeNumber\n    ).then(response => {\n      this.episode.airDate = response.air_date\n      this.episode.name = response.name\n      this.episode.overview = response.overview\n    })\n  }\n\n  get show() {\n    return this._show\n  }\n\n  get season() {\n    return this._season\n  }\n\n  get episode() {\n    return this._episode\n  }\n\n  get tmdb() {\n    return this._tmdb\n  }\n}\n\nexport default FetchEpisode\n","import { createSelector } from 'reselect'\n\nconst seasonsSelector = state => state.seasons\n\nexport const seasonSelector = id => {\n  return createSelector(\n    seasonsSelector,\n    seasons => seasons[id]\n  )\n}\n\nexport const inProgressSeasonsSelector = () => {\n  return createSelector(\n    seasonsSelector,\n    seasons => {\n      return Object.values(seasons).filter(season => {\n        return season.progress !== undefined && season.progress !== 0\n      }).sort((a, b) => (a.lastWatched > b.lastWatched) ? -1 : 1)\n    }\n  )\n}\n\nexport const recentlyWatchedSeasonsSelector = date => {\n  return createSelector(\n    seasonsSelector,\n    seasons => {\n      return Object.values(seasons).filter(season => {\n        return season.lastWatched >= date.getTime() &&\n          (season.progress === undefined || season.progress === 0)\n      }).sort((a, b) => (a.lastWatched > b.lastWatched) ? -1 : 1)\n    }\n  )\n}\n\nexport const seasonsByShowSelector = showId => {\n  return createSelector(\n    seasonsSelector,\n    seasons => {\n      return Object.values(seasons)\n        .filter(season => season.showId.toString() === showId)\n    }\n  )\n}\n\nexport const seasonsByPersonSelector = id => {\n  return createSelector(\n    seasonsSelector,\n    seasons => {\n      return Object.values(seasons).filter(season => {\n        return season.cast.find(castMember => castMember.id === id) ||\n          season.crew.find(crewMember => crewMember.id === id)\n      })\n    }\n  )\n}\n\nexport const seasonsCastMemberSelector = id => {\n  return createSelector(\n    seasonsSelector,\n    seasons => {\n      return Object.values(seasons).map(season => season.cast).flat()\n        .filter(castMember => castMember.id === id)\n    }\n  )\n}\n\nexport const seasonsCrewMemberSelector = id => {\n  return createSelector(\n    seasonsSelector,\n    seasons => {\n      return Object.values(seasons).map(season => season.crew).flat()\n        .filter(crewMember => crewMember.id === id)\n    }\n  )\n}\n","import FetchEpisode from '../services/fetching/FetchEpisode'\n\nimport { seasonSelector } from '../selectors/seasons'\nimport { showSelector } from '../selectors/shows'\n\nexport const REMOVE_EPISODE = 'REMOVE_EPISODE'\nexport const UPDATE_EPISODE = 'UPDATE_EPISODE'\n\nexport const fetchEpisode = episode => {\n  return (dispatch, getState) => {\n    const season = seasonSelector(episode.seasonId)(getState())\n    const show = showSelector(season.showId)(getState())\n    return new FetchEpisode(\n      show.id,\n      show.name,\n      season.seasonNumber,\n      season.name,\n      episode\n    ).perform().then(fetchedEpisode => {\n      dispatch(updateEpisode(fetchedEpisode))\n    }).catch(() => dispatch(fetchEpisode(episode)))\n  }\n}\n\nexport const removeEpisode = id => ({\n  type: REMOVE_EPISODE,\n  payload: id\n})\n\nexport const updateEpisode = episode => ({\n  type: UPDATE_EPISODE,\n  payload: episode\n})\n","import { VERSION, PROVIDERS } from '../constants'\n\nimport IndexMovies from '../services/indexing/IndexMovies'\nimport IndexShows from '../services/indexing/IndexShows'\nimport IndexSeasons from '../services/indexing/IndexSeasons'\nimport IndexEpisodes from '../services/indexing/IndexEpisodes'\nimport FetchAllSeasons from '../services/fetching/FetchAllSeasons'\nimport FetchAllEpisodes from '../services/fetching/FetchAllEpisodes'\n\nimport { updateVersion } from './version'\nimport { logInExpired } from './auth'\nimport { loadingBegin, loadingStop } from './loading'\nimport { fetchMovie, removeMovie } from './movies'\nimport { fetchShow, removeShow } from './shows'\nimport { fetchSeason, removeSeason } from './seasons'\nimport { fetchEpisode, removeEpisode } from './episodes'\n\nexport const INDEX_BEGIN = 'INDEX_BEGIN'\nexport const INDEX_SUCCESS = 'INDEX_SUCCESS'\nexport const INDEX_FAILURE = 'INDEX_FAILURE'\n\nexport const index = () => {\n  return (dispatch, getState) => {\n    dispatch(loadingBegin('Indexing...'))\n    dispatch(indexBegin())\n\n    new IndexMovies(getState().auth[PROVIDERS.MICROSOFT].token).perform()\n      .then(movies => {\n        cleanupOldItems(\n          dispatch,\n          movies.map(movie => movie.id),\n          Object.keys(getState().movies),\n          removeMovie\n        )\n        return awaitFetching(dispatch, movies, fetchMovie)\n      }).then(() => {\n        return new IndexShows(\n          getState().auth[PROVIDERS.MICROSOFT].token\n        ).perform()\n      }).then(shows => {\n        cleanupOldItems(\n          dispatch,\n          shows.map(show => show.id),\n          Object.keys(getState().shows),\n          removeShow\n        )\n        return awaitFetching(dispatch, shows, fetchShow)\n      }).then(() => {\n        return new FetchAllSeasons(Object.values(getState().shows)).perform()\n      }).then(seasons => {\n        return new IndexSeasons(\n          getState().auth[PROVIDERS.MICROSOFT].token,\n          Object.values(getState().shows),\n          seasons\n        ).perform()\n      }).then(seasons => {\n        cleanupOldItems(\n          dispatch,\n          seasons.map(season => season.id),\n          Object.keys(getState().seasons),\n          removeSeason\n        )\n        return awaitFetching(dispatch, seasons, fetchSeason)\n      }).then(() => {\n        return new FetchAllEpisodes(Object.values(getState().seasons)).perform()\n      }).then(episodes => {\n        return new IndexEpisodes(\n          getState().auth[PROVIDERS.MICROSOFT].token,\n          Object.values(getState().seasons),\n          episodes\n        ).perform()\n      }).then(episodes => {\n        cleanupOldItems(\n          dispatch,\n          episodes.map(episode => episode.id),\n          Object.keys(getState().episodes),\n          removeEpisode\n        )\n        return awaitFetching(dispatch, episodes, fetchEpisode)\n      }).then(() => {\n        dispatch(updateVersion(VERSION))\n        dispatch(indexSuccess())\n        dispatch(loadingStop())\n      }).catch(error => {\n        console.log(error)\n        dispatch(indexFailure(error))\n        dispatch(loadingStop())\n\n        if (error.statusCode === 401) {\n          dispatch(logInExpired(PROVIDERS.MICROSOFT))\n        }\n      })\n  }\n}\n\nfunction cleanupOldItems(dispatch, newIds, oldIds, removeAction) {\n  oldIds.forEach(id => {\n    if (!newIds.includes(id)) {\n      dispatch(removeAction(id))\n    }\n  })\n}\n\nasync function awaitFetching(dispatch, items, fetchAction) {\n  await Promise.all(items.map(item => {\n    return dispatch(fetchAction(item))\n  }))\n  return items\n}\n\nconst indexBegin = () => ({\n  type: INDEX_BEGIN\n})\n\nconst indexSuccess = () => ({\n  type: INDEX_SUCCESS\n})\n\nconst indexFailure = error => ({\n  type: INDEX_FAILURE,\n  payload: error\n})\n","export const UPDATE_VERSION = 'UPDATE_VERSION'\n\nexport const updateVersion = version => ({\n  type: UPDATE_VERSION,\n  payload: version\n})\n","import { INDEX_BEGIN, INDEX_SUCCESS, INDEX_FAILURE } from '../actions/indexing'\n\nconst initialState = {\n  lastIndexed: 0,\n  error: null\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case INDEX_BEGIN:\n    return {\n      ...state,\n      error: null\n    }\n  case INDEX_SUCCESS:\n    return {\n      ...state,\n      lastIndexed: new Date().getTime()\n    }\n  case INDEX_FAILURE:\n    return {\n      ...state,\n      error: action.payload\n    }\n  default:\n    return state\n  }\n}\n","import { REMOVE_EPISODE, UPDATE_EPISODE } from '../actions/episodes'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n  case REMOVE_EPISODE: {\n    /* eslint-disable no-unused-vars */\n    const { [action.payload]: episode, ...newState } = state\n    /* eslint-enable no-unused-vars */\n    return newState\n  }\n  case UPDATE_EPISODE:\n    return {\n      ...state,\n      [action.payload.id]: {\n        ...state[action.payload.id],\n        ...action.payload\n      }\n    }\n  default:\n    return state\n  }\n}\n","import { combineReducers } from 'redux'\nimport { persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport version from './version'\nimport auth from './auth'\nimport settings from './settings'\nimport indexing from './indexing'\nimport loading from './loading'\nimport movies from './movies'\nimport shows from './shows'\nimport seasons from './seasons'\nimport episodes from './episodes'\n\nconst rootReducer = combineReducers({\n  version,\n  auth,\n  settings,\n  indexing,\n  loading,\n  movies,\n  shows,\n  seasons,\n  episodes\n})\n\nexport default persistReducer({\n  key: 'root',\n  storage: storage,\n  whitelist: [\n    'version',\n    'auth',\n    'settings',\n    'indexing',\n    'movies',\n    'shows',\n    'seasons',\n    'episodes'\n  ],\n  debug: process.env.NODE_ENV === 'development'\n}, rootReducer)\n","import { VERSION } from '../constants'\n\nimport { UPDATE_VERSION } from '../actions/version'\n\nconst initialState = VERSION\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case UPDATE_VERSION:\n    return action.payload\n  default:\n    return state\n  }\n}\n","export const SETTINGS_UPDATE = 'SETTINGS_UPDATE'\n\nexport const updateSettings = settings => ({\n  type: SETTINGS_UPDATE,\n  payload: settings\n})\n","import { LOADING_BEGIN, LOADING_STOP } from '../actions/loading'\n\nconst initialState = false\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n  case LOADING_BEGIN:\n    return action.payload\n  case LOADING_STOP:\n    return false\n  default:\n    return state\n  }\n}\n","import { REMOVE_MOVIE, UPDATE_MOVIE } from '../actions/movies'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n  case REMOVE_MOVIE: {\n    /* eslint-disable no-unused-vars */\n    const { [action.payload]: movie, ...newState } = state\n    /* eslint-enable no-unused-vars */\n    return newState\n  }\n  case UPDATE_MOVIE:\n    return {\n      ...state,\n      [action.payload.id]: {\n        ...state[action.payload.id],\n        ...action.payload\n      }\n    }\n  default:\n    return state\n  }\n}\n","import { REMOVE_SHOW, UPDATE_SHOW } from '../actions/shows'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n  case REMOVE_SHOW: {\n    /* eslint-disable no-unused-vars */\n    const { [action.payload]: show, ...newState } = state\n    /* eslint-enable no-unused-vars */\n    return newState\n  }\n  case UPDATE_SHOW:\n    return {\n      ...state,\n      [action.payload.id]: {\n        ...state[action.payload.id],\n        ...action.payload\n      }\n    }\n  default:\n    return state\n  }\n}\n","import { REMOVE_SEASON, UPDATE_SEASON } from '../actions/seasons'\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n  case REMOVE_SEASON: {\n    /* eslint-disable no-unused-vars */\n    const { [action.payload]: season, ...newState } = state\n    /* eslint-enable no-unused-vars */\n    return newState\n  }\n  case UPDATE_SEASON:\n    return {\n      ...state,\n      [action.payload.id]: {\n        ...state[action.payload.id],\n        ...action.payload\n      }\n    }\n  default:\n    return state\n  }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport persistedReducer from './reducers'\n\nexport default createStore(\n  persistedReducer,\n  applyMiddleware(thunk)\n)\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets;\n      // see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still\n        // exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // This is used to notify users that a new version of the app will\n              // available after a reload.\n              window.newVersionAvailable = true\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import { AUTOMATIC_INDEXING } from '../constants'\n\nclass AutomaticIndexing {\n  constructor(setting, lastIndexed, indexAction) {\n    this._setting = setting\n    this._lastIndexed = lastIndexed\n    this._indexAction = indexAction\n  }\n\n  perform() {\n    if (this.setting === AUTOMATIC_INDEXING.NEVER) {\n      return false\n    }\n\n    if (\n      this.setting === AUTOMATIC_INDEXING.ALWAYS ||\n      new Date().getFullYear() !== new Date(this.lastIndexed).getFullYear() ||\n      new Date().getMonth() !== new Date(this.lastIndexed).getMonth() ||\n      (this.setting !== AUTOMATIC_INDEXING.MONTHLY &&\n        new Date().getDate() !== new Date(this.lastIndexed).getDate())\n    ) {\n      this.indexAction()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  get setting() {\n    return this._setting\n  }\n\n  get lastIndexed() {\n    return this._lastIndexed\n  }\n\n  get indexAction() {\n    return this._indexAction\n  }\n}\n\nexport default AutomaticIndexing\n","import { VERSION } from '../constants'\n\nclass IndexAfterUpdate {\n  constructor(versionUsedForLastIndex, indexAction) {\n    this._versionUsedForLastIndex = versionUsedForLastIndex\n    this._indexAction = indexAction\n  }\n\n  perform() {\n    if (this.versionUsedForLastIndex !== VERSION) {\n      this.indexAction()\n      return true\n    } else {\n      return false\n    }\n  }\n\n  get versionUsedForLastIndex() {\n    return this._versionUsedForLastIndex\n  }\n\n  get indexAction() {\n    return this._indexAction\n  }\n}\n\nexport default IndexAfterUpdate\n","import React, { Component } from 'react'\nimport './Cover.scss'\n\nclass Cover extends Component {\n  render() {\n    return (\n      <img className='Cover' src={this.props.url} alt={this.props.alt} width={this.props.width} />\n    )\n  }\n}\n\nexport default Cover\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Swiper from 'swiper'\nimport 'swiper/swiper.scss'\nimport './HorizontalSlide.scss'\n\nimport Cover from './Cover'\n\nclass HorizontalSlide extends Component {\n  componentDidMount() {\n    new Swiper(\n      document.querySelector(\n        `.HorizontalSlide#${this.props.id} .swiper-container`\n      ), {\n        spaceBetween: 15,\n        slidesPerView: 'auto',\n        slidesOffsetBefore: 20,\n        slidesOffsetAfter: 20,\n        grabCursor: true\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div className='HorizontalSlide' id={this.props.id}>\n        <div className='swiper-container'>\n          <div className='swiper-wrapper'>\n            {this.props.items.length ? (\n              this.props.items.map(item => {\n                return (\n                  <div className='swiper-slide' key={item.id}>\n                    <Link to={item.path}>\n                      <Cover url={item.posterUrl || '/cover.png'} alt={item.name} width='100%' />\n                    </Link>\n                  </div>\n                )\n              })\n            ) : (\n              <div className='swiper-slide'>\n                <h3>Nothing found.</h3>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default HorizontalSlide\n","import { createSelector } from 'reselect'\n\nconst moviesSelector = state => state.movies\n\nexport const movieSelector = id => {\n  return createSelector(\n    moviesSelector,\n    movies => movies[id]\n  )\n}\n\nexport const inProgressMoviesSelector = () => {\n  return createSelector(\n    moviesSelector,\n    movies => {\n      return Object.values(movies).filter(movie => {\n        return movie.progress !== undefined &&\n          movie.progress !== 0 &&\n          movie.progress / 60 < movie.runtime * 0.95\n      }).sort((a, b) => (a.lastWatched > b.lastWatched) ? -1 : 1)\n    }\n  )\n}\n\nexport const recentlyWatchedMoviesSelector = date => {\n  return createSelector(\n    moviesSelector,\n    movies => {\n      return Object.values(movies).filter(movie => {\n        return movie.lastWatched >= date.getTime() &&\n          (movie.progress === undefined ||\n            movie.progress === 0 ||\n            movie.progress / 60 >= movie.runtime * 0.95)\n      }).sort((a, b) => (a.lastWatched > b.lastWatched) ? -1 : 1)\n    }\n  )\n}\n\nexport const moviesByPersonSelector = id => {\n  return createSelector(\n    moviesSelector,\n    movies => {\n      return Object.values(movies).filter(movie => {\n        return movie.cast.find(castMember => castMember.id === id) ||\n          movie.crew.find(crewMember => crewMember.id === id)\n      })\n    }\n  )\n}\n\nexport const moviesCastMemberSelector = id => {\n  return createSelector(\n    moviesSelector,\n    movies => {\n      return Object.values(movies).map(movie => movie.cast).flat()\n        .filter(castMember => castMember.id === id)\n    }\n  )\n}\n\nexport const moviesCrewMemberSelector = id => {\n  return createSelector(\n    moviesSelector,\n    movies => {\n      return Object.values(movies).map(movie => movie.crew).flat()\n        .filter(crewMember => crewMember.id === id)\n    }\n  )\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport './ForYou.scss'\n\nimport { PROVIDERS } from '../constants'\n\nimport { index } from '../actions/indexing'\n\nimport HorizontalSlide from '../components/HorizontalSlide'\n\nimport {\n  inProgressMoviesSelector,\n  recentlyWatchedMoviesSelector\n} from '../selectors/movies'\nimport {\n  inProgressSeasonsSelector,\n  recentlyWatchedSeasonsSelector\n} from '../selectors/seasons'\n\nclass ForYou extends Component {\n  constructor(props) {\n    super(props)\n\n    const oneMonthAgo = new Date()\n    oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1)\n\n    this.state = {\n      inProgress: [\n        ...inProgressMoviesSelector()({ movies: this.props.movies }),\n        ...inProgressSeasonsSelector()({ seasons: this.props.seasons })\n      ].sort((a, b) => (a.lastWatched > b.lastWatched) ? -1 : 1),\n      recentlyWatched: [\n        ...recentlyWatchedMoviesSelector(oneMonthAgo)({\n          movies: this.props.movies\n        }),\n        ...recentlyWatchedSeasonsSelector(oneMonthAgo)({\n          seasons: this.props.seasons\n        })\n      ].sort((a, b) => (a.lastWatched > b.lastWatched) ? -1 : 1)\n    }\n  }\n\n  componentDidMount() {\n    document.querySelector('.Nav a:first-child').classList.add('active')\n  }\n\n  componentWillUnmount() {\n    document.querySelector('.Nav a:first-child').classList.remove('active')\n  }\n\n  render() {\n    if (\n      this.state.inProgress.length > 0 ||\n        this.state.recentlyWatched.length > 0\n    ) {\n      return (\n        <div className='ForYou'>\n          {this.state.inProgress.length > 0 && <section>\n            <h2>Continue watching</h2>\n            <HorizontalSlide items={this.state.inProgress} id='inProgress' />\n          </section>}\n\n          {this.state.recentlyWatched.length > 0 && <section>\n            <h2>Recently watched</h2>\n            <HorizontalSlide items={this.state.recentlyWatched} id='recentlyWatched' />\n          </section>}\n        </div>\n      )\n    } else if (\n      Object.values(PROVIDERS).filter(provider => {\n        return this.props.auth[provider].token !== null\n      }).length === 0\n    ) {\n      return (\n        <div className='ForYou'>\n          <h2>Get started</h2>\n          <p>To watch your movies and TV shows, you first have to sign in with the cloud service that hosts your media.</p>\n          <Link to='/app/settings' className='button'>\n            Authenticate\n          </Link>\n          <p className='small'>Note that Plaain may <span className='bold'>not</span> be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage.</p>\n        </div>\n      )\n    } else if (\n      Object.entries(this.props.movies).length === 0 &&\n        Object.entries(this.props.shows).length === 0\n    ) {\n      return (\n        <div className='ForYou'>\n          <h2>Get started</h2>\n          <p>You signed into a cloud service, but we didn&apos;t find any movies or TV shows.</p>\n          <p>It&apos;s likely that you just have to move some of your files around and create some folders to make it work.</p>\n          <p>Reference the getting started guide to learn how to organize your files so that Plaain finds them. After you&apos;re done, just re-index.</p>\n          <div className='ForYou__buttons'>\n            <a className='button primary' href='https://github.com/jonhue/plaain#getting-started' target='_blank' rel='noopener noreferrer'>Getting started</a>\n            <button onClick={this.props.index}>Index</button>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <div className='ForYou'>\n          <h2>Get started</h2>\n          <p>Here, you&apos;ll be able to find your recently watched movie or the show you didn&apos;t finish yet.</p>\n          <div className='ForYou__buttons'>\n            {Object.entries(this.props.movies).length > 0 && <Link to='/app/movies' className='button'>\n              Discover your movies\n            </Link>}\n            {Object.entries(this.props.shows).length > 0 && <Link to='/app/shows' className='button'>\n              Discover your shows\n            </Link>}\n          </div>\n        </div>\n      )\n    }\n  }\n}\n\nexport default connect(\n  state => ({\n    movies: state.movies,\n    shows: state.shows,\n    seasons: state.seasons,\n    auth: state.auth\n  }),\n  { index }\n)(ForYou)\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './ItemGrid.scss'\n\nimport Cover from './Cover'\n\nclass ItemGrid extends Component {\n  render() {\n    return (\n      <div className='ItemGrid' id={this.props.id}>\n        {this.props.items.length ? this.props.items.map(item => {\n          return (\n            <div className='ItemGrid__item' key={item.id}>\n              <Link to={item.path}>\n                <Cover url={item.posterUrl || '/cover.png'} alt={item.name} width='100%' />\n              </Link>\n            </div>\n          )\n        }) : (\n          <div className='ItemGrid__item'>\n            <h3>Nothing found.</h3>\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default ItemGrid\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport Swiper from 'swiper'\nimport 'swiper/swiper.scss'\nimport './VerticalSlide.scss'\n\nimport Cover from './Cover'\n\nclass VerticalSlide extends Component {\n  componentDidMount() {\n    new Swiper(\n      document.querySelector(\n        `.VerticalSlide#${this.props.id} .swiper-container`\n      ), {\n        direction: 'vertical',\n        slidesPerView: 'auto',\n        grabCursor: true,\n        effect: 'coverflow',\n        coverflowEffect: {\n          rotate: 0,\n          stretch: 425,\n          depth: 150,\n          modifier: 1,\n          slideShadows : false\n        },\n        history: {\n          replaceState: true,\n          key: this.props.path\n        }\n      }\n    )\n  }\n\n  render() {\n    return (\n      <div className='VerticalSlide' id={this.props.id}>\n        <div className='swiper-container'>\n          <div className='swiper-wrapper'>\n            {this.props.items.length ? this.props.items.map(item => {\n              return (\n                <div className='swiper-slide' data-history={item.id} key={item.id}>\n                  <Link to={item.path}>\n                    <Cover url={item.posterUrl || '/cover.png'} alt={item.name} width='100%' />\n                  </Link>\n                </div>\n              )\n            }) : (\n              <div className='swiper-slide'>\n                <h3>Nothing found.</h3>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default VerticalSlide\n","import React from 'react'\n\nexport default props => (\n  <svg height={props.height} width={props.width} viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n  \t<title>zoom</title>\n  \t<g fill=\"#ffffff\">\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"22\" x2=\"15.656\" y1=\"22\" y2=\"15.656\"/>\n  \t\t<circle cx=\"10\" cy=\"10\" fill=\"none\" r=\"8\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\"/>\n  \t</g>\n  </svg>\n)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport './Movies.scss'\n\nimport ItemGrid from '../components/ItemGrid'\nimport VerticalSlide from '../components/VerticalSlide'\nimport ZoomIcon from '../components/Nucleo/icons/zoom.jsx'\n\nclass Movies extends Component {\n  componentDidMount() {\n    document.querySelector('.Nav a:nth-child(2)').classList.add('active')\n  }\n\n  componentWillUnmount() {\n    document.querySelector('.Nav a:nth-child(2)').classList.remove('active')\n  }\n\n  render() {\n    return (\n      <div className='Movies'>\n        {Object.entries(this.props.movies).length > 0 && (\n          <div className='Movies__wrapper'>\n            <div className='Movies__find'>\n              <Link to='/app/find'>\n                <ZoomIcon width={24} height={24} />\n              </Link>\n            </div>\n            {window.innerWidth < 600 ? <VerticalSlide items={Object.values(this.props.movies).sort((a, b) => (a.name < b.name) ? -1 : 1)} id='movies' path='movies' /> : <ItemGrid items={Object.values(this.props.movies).sort((a, b) => (a.name < b.name) ? -1 : 1)} id='movies' />}\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n    movies: state.movies\n  })\n)(Movies)\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './NotFound.scss'\n\nclass NotFound extends Component {\n  render() {\n    return (\n      <div className='NotFound'>\n        <h2>You want to get lost?</h2>\n        <p>This path went astray... If you do want to get lost, we recommend <a href='https://www.imdb.com/title/tt6969502/' target='_blank' rel='noopener noreferrer'>Get Lost! ny Mirjam de With</a>.</p>\n        <p>If all you&apos;re looking for is to get back on track: you can <Link to='/app'>find home this way</Link>.</p>\n      </div>\n    )\n  }\n}\n\nexport default NotFound\n","import React, { Component } from 'react'\nimport './Backdrop.scss'\n\nclass Backdrop extends Component {\n  render() {\n    return (\n      <picture className='Backdrop'>\n        <img src={this.props.url} alt='backdrop' />\n      </picture>\n    )\n  }\n}\n\nexport default Backdrop\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './PersonList.scss'\n\nclass PersonList extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      wrapped: true\n    }\n  }\n\n  toggle() {\n    this.setState({\n      wrapped: !this.state.wrapped\n    })\n  }\n\n  render() {\n    return (\n      <div className='PersonList'>\n        {this.props.people\n          .slice(0, this.state.wrapped ? 10 : this.props.people.length)\n          .map((person, index) => {\n            return <p key={index}><Link to={`/app/person/${person.id}`}>{person.name}</Link> · <span>{person[this.props.attribute]}</span></p>\n          })}\n        <span onClick={this.toggle.bind(this)}>{this.state.wrapped ? 'Show more' : 'Show less'}</span>\n      </div>\n    )\n  }\n}\n\nexport default PersonList\n","import React, { Component } from 'react'\nimport ISO6391 from 'iso-639-1'\n\nclass PlyrCaption extends Component {\n  render() {\n    return (\n      <track\n        kind='captions'\n        label={this.props.caption.information}\n        src={this.props.caption.url}\n        srcLang={ISO6391.getCode(this.props.caption.information) || 'en'}\n        default={this.props.default} />\n    )\n  }\n}\n\nexport default PlyrCaption\n","import React, { Component } from 'react'\n\nclass PlyrSource extends Component {\n  render() {\n    return (\n      <source\n        src={this.props.source.url}\n        type={this.props.source.mimeType}\n        size={this.props.source.information} />\n    )\n  }\n}\n\nexport default PlyrSource\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport Plyr from 'plyr'\nimport './PlyrPlayer.scss'\n\nimport { FILE_TYPES } from '../constants'\n\nimport PlyrCaption from './PlyrPlayer/PlyrCaption'\nimport PlyrSource from './PlyrPlayer/PlyrSource'\n\nimport { logInExpired } from '../actions/auth'\n\nclass PlyrPlayer extends Component {\n  componentDidMount() {\n    this.player = new Plyr(document.querySelector('#player'), {\n      debug: process.env.NODE_ENV === 'development'\n    })\n\n    this.player.on('error', error => {\n      console.log(error)\n\n      this.props.logInExpired(this.props.item.provider)\n    })\n\n    this.player.on('timeupdate', event => {\n      if (event.detail.plyr.currentTime !== 0 ) {\n        this.props.updateItemAction({\n          id: this.props.item.id,\n          lastWatched: new Date().getTime(),\n          progress: event.detail.plyr.currentTime\n        })\n      }\n    })\n\n    this.player.on('exitfullscreen', () => {\n      const component = document.querySelector('.PlyrPlayer')\n\n      if (component && !component.dataset.preventExit) {\n        this.player.stop()\n        component.style.display = 'none'\n\n        if (this.props.exitedAction) {\n          this.props.exitedAction()\n        }\n      }\n    })\n\n    this.player.on('ended', () => {\n      this.player.fullscreen.exit()\n      document.querySelector('.PlyrPlayer').style.display = 'none'\n\n      if (this.props.endedAction) {\n        this.props.endedAction()\n      }\n    })\n  }\n\n  render() {\n    if (\n      this.props.item.files\n        .filter(file => file.type === FILE_TYPES.SOURCE).length === 0\n    ) {\n      return null\n    }\n\n    return (\n      <div className='PlyrPlayer'>\n        <video\n          src={this.props.item.files\n            .filter(file => file.type === FILE_TYPES.SOURCE)[0].url}\n          id='player' crossOrigin='true' playsInline controls>\n          {this.props.item.files.filter(file => file.type === FILE_TYPES.SOURCE)\n            .map((source, index) => {\n              return <PlyrSource source={source} key={index} />\n            })}\n          {this.props.item.files\n            .filter(file => file.type === FILE_TYPES.CAPTION)\n            .map((caption, index) => {\n              return (\n                <PlyrCaption\n                  caption={caption}\n                  default={index === 0}\n                  key={index} />\n              )\n            })}\n          <a href={this.props.item.files.filter(file => file.type === FILE_TYPES.SOURCE)[0].src} download>Download</a>\n        </video>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  null,\n  { logInExpired }\n)(PlyrPlayer)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './Movie.scss'\n\nimport { FILE_TYPES, STORAGE_PROVIDERS } from '../constants'\n\nimport NotFound from './NotFound'\n\nimport Backdrop from '../components/Backdrop'\nimport Cover from '../components/Cover'\nimport PersonList from '../components/PersonList'\nimport PlyrPlayer from '../components/PlyrPlayer'\n\nimport { updateMovie } from '../actions/movies'\n\nimport { movieSelector } from '../selectors/movies'\n\nclass Movie extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      movie: movieSelector(this.props.match.params.id)({\n        movies: this.props.movies\n      })\n    }\n  }\n\n  componentDidMount() {\n    document.querySelector('.Nav a:nth-child(2)').classList.add('active')\n  }\n\n  componentWillUnmount() {\n    document.querySelector('.Nav a:nth-child(2)').classList.remove('active')\n  }\n\n  continue() {\n    this.watch(this.state.movie.progress)\n  }\n\n  watch(progress = 0) {\n    const player = document.querySelector('.PlyrPlayer')\n    const plyr = player.querySelector('#player').plyr\n    player.dataset.preventExit = true\n    // Wait until Plyr is ready to start playing\n    setTimeout(() => {\n      player.style.display = 'block'\n      plyr.fullscreen.enter()\n      plyr.play()\n      plyr.currentTime = progress\n      setTimeout(() => { delete player.dataset.preventExit}, 100) // Fixing #232\n    }, 100)\n  }\n\n  finishedMovie() {\n    this.props.updateMovie({\n      id: this.state.movie.id,\n      progress: 0\n    })\n  }\n\n  render() {\n    if (this.state.movie) {\n      return (\n        <div className='Movie'>\n          {this.state.movie.files.filter(file => file.type === FILE_TYPES.SOURCE).length > 0 && <PlyrPlayer item={this.state.movie} updateItemAction={this.props.updateMovie} endedAction={this.finishedMovie.bind(this)} />}\n          <Backdrop url={this.state.movie.backdropUrl} />\n          <div className='Movie__details'>\n            <Cover url={this.state.movie.posterUrl} alt='poster' width='50%' />\n            <h1>{this.state.movie.name}</h1>\n            <div className='Movie__information'>\n              <p className='small'>{new Date(this.state.movie.releaseDate).getFullYear()}</p>\n              <p className='small'>{Math.floor(this.state.movie.runtime / 60) !== 0 && `${Math.floor(this.state.movie.runtime / 60)}h`} {this.state.movie.runtime % 60 !== 0 && `${this.state.movie.runtime % 60}m`}</p>\n            </div>\n            <div className='Movie__actions'>\n              {this.state.movie.files.filter(file => file.type === FILE_TYPES.SOURCE).length > 0 && this.state.movie.progress !== undefined && this.state.movie.progress !== 0 && this.state.movie.progress / 60 < this.state.movie.runtime && <button className='primary' id='continue' onClick={this.continue.bind(this)}>Continue</button>}\n              {this.state.movie.files.filter(file => file.type === FILE_TYPES.SOURCE).length > 0 && <button className={this.state.movie.progress === undefined || this.state.movie.progress === 0 || this.state.movie.progress / 60 >= this.state.movie.runtime ? 'primary' : ''} id='watch' onClick={() => this.watch()}>Watch</button>}\n              <a className='button' id='trailer' href={this.state.movie.trailerLink} target='_blank' rel='noopener noreferrer'>Play trailer</a>\n            </div>\n            <p className='Movie__overview'>{this.state.movie.overview}</p>\n            <div className='Movie__people'>\n              <div className='Movie__people__cast'>\n                <h4>Starring</h4>\n                <PersonList people={this.state.movie.cast} attribute='character' />\n              </div>\n              <div className='Movie__people__crew'>\n                <h4>Crew</h4>\n                <PersonList people={this.state.movie.crew} attribute='job' />\n              </div>\n            </div>\n          </div>\n          <div className='Movie__sources'>\n            <h4>Sources</h4>\n            <p className='small'>Hosted on {STORAGE_PROVIDERS[this.state.movie.provider]}</p>\n            <div>\n              <div className='Movie__sources__versions'>\n                <h5>Versions</h5>\n                {this.state.movie.files\n                  .filter(file => file.type === FILE_TYPES.SOURCE)\n                  .map((file, index) => {\n                    return <p className='small' key={index}>{file.information}</p>\n                  })}\n                {this.state.movie.files\n                  .filter(file => file.type === FILE_TYPES.SOURCE)\n                  .length === 0 && <p className='small'>-</p>}\n              </div>\n              <div className='Movie__sources__captions'>\n                <h5>Subtitles</h5>\n                {this.state.movie.files\n                  .filter(file => file.type === FILE_TYPES.CAPTION)\n                  .map((file, index) => {\n                    return <p className='small' key={index}>{file.information}</p>\n                  })}\n                {this.state.movie.files\n                  .filter(file => file.type === FILE_TYPES.CAPTION)\n                  .length === 0 && <p className='small'>-</p>}\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      return <NotFound />\n    }\n  }\n}\n\nexport default connect(\n  state => ({\n    movies: state.movies\n  }),\n  { updateMovie }\n)(Movie)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport './Shows.scss'\n\nimport ItemGrid from '../components/ItemGrid'\nimport VerticalSlide from '../components/VerticalSlide'\nimport ZoomIcon from '../components/Nucleo/icons/zoom.jsx'\n\nclass Shows extends Component {\n  componentDidMount() {\n    document.querySelector('.Nav a:nth-child(3)').classList.add('active')\n  }\n\n  componentWillUnmount() {\n    document.querySelector('.Nav a:nth-child(3)').classList.remove('active')\n  }\n\n  render() {\n    return (\n      <div className='Shows'>\n        {Object.entries(this.props.shows).length > 0 && (\n          <div className='Shows__wrapper'>\n            <div className='Shows__find'>\n              <Link to='/app/find'>\n                <ZoomIcon width={24} height={24} />\n              </Link>\n            </div>\n            {window.innerWidth < 600 ? <VerticalSlide items={Object.values(this.props.shows).sort((a, b) => (a.name < b.name) ? -1 : 1)} id='shows' path='shows' /> : <ItemGrid items={Object.values(this.props.shows).sort((a, b) => (a.name < b.name) ? -1 : 1)} id='shows' />}\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n    shows: state.shows\n  })\n)(Shows)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './Show.scss'\n\nimport NotFound from './NotFound'\n\nimport Backdrop from '../components/Backdrop'\nimport Cover from '../components/Cover'\nimport HorizontalSlide from '../components/HorizontalSlide'\n\nimport { showSelector } from '../selectors/shows'\nimport { seasonsByShowSelector } from '../selectors/seasons'\n\nclass Show extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      show: showSelector(this.props.match.params.id)({\n        shows: this.props.shows\n      }),\n      seasons: seasonsByShowSelector(this.props.match.params.id)({\n        seasons: this.props.seasons\n      })\n    }\n  }\n\n  componentDidMount() {\n    document.querySelector('.Nav a:nth-child(3)').classList.add('active')\n  }\n\n  componentWillUnmount() {\n    document.querySelector('.Nav a:nth-child(3)').classList.remove('active')\n  }\n\n  render() {\n    if (this.state.show) {\n      return (\n        <div className='Show'>\n          <Backdrop url={this.state.show.backdropUrl} />\n          <div className='Show__details'>\n            <Cover url={this.state.show.posterUrl} alt='poster' width='50%' />\n            <h1>{this.state.show.name}</h1>\n            <div className='Show__information'>\n              <p className='small'>{new Date(this.state.show.firstAirDate).getFullYear()} - {new Date(this.state.show.lastAirDate).getFullYear()}</p>\n            </div>\n            <p className='Show__overview'>{this.state.show.overview}</p>\n          </div>\n          {this.state.seasons.length > 0 && <div className='Show__seasons'>\n            <h2>Seasons</h2>\n            <HorizontalSlide items={this.state.seasons.sort((a, b) => (a.seasonNumber < b.seasonNumber) ? -1 : 1)} id='seasons' />\n          </div>}\n        </div>\n      )\n    } else {\n      return <NotFound />\n    }\n  }\n}\n\nexport default connect(\n  state => ({\n    shows: state.shows,\n    seasons: state.seasons\n  })\n)(Show)\n","import { createSelector } from 'reselect'\n\nconst episodesSelector = state => state.episodes\n\nexport const episodeSelector = id => {\n  return createSelector(\n    episodesSelector,\n    episodes => episodes[id]\n  )\n}\n\nexport const episodesBySeasonSelector = seasonId => {\n  return createSelector(\n    episodesSelector,\n    episodes => {\n      return Object.values(episodes)\n        .filter(episode => episode.seasonId === seasonId)\n    }\n  )\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './Season.scss'\n\nimport { FILE_TYPES } from '../constants'\n\nimport NotFound from './NotFound'\n\nimport Backdrop from '../components/Backdrop'\nimport Cover from '../components/Cover'\nimport PersonList from '../components/PersonList'\nimport PlyrPlayer from '../components/PlyrPlayer'\n\nimport { updateSeason } from '../actions/seasons'\nimport { updateEpisode } from '../actions/episodes'\n\nimport { showSelector } from '../selectors/shows'\nimport { seasonSelector } from '../selectors/seasons'\nimport { episodesBySeasonSelector } from '../selectors/episodes'\n\nclass Season extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      season: seasonSelector(this.props.match.params.id)({\n        seasons: this.props.seasons\n      }),\n      episodes: episodesBySeasonSelector(this.props.match.params.id)({\n        episodes: this.props.episodes\n      }),\n      watchableEpisodes: episodesBySeasonSelector(this.props.match.params.id)({\n        episodes: this.props.episodes\n      }).filter(episode => {\n        return episode.provider !== undefined &&\n          episode.files.filter(file => file.type === FILE_TYPES.SOURCE)\n            .length !== 0\n      }),\n      episodesWrapped: true\n    }\n    this.state.currentEpisodeNumber =\n      this.state.watchableEpisodes.length > 0 &&\n      this.state.watchableEpisodes[0].episodeNumber\n  }\n\n  componentDidMount() {\n    document.querySelector('.Nav a:nth-child(3)').classList.add('active')\n  }\n\n  componentWillUnmount() {\n    document.querySelector('.Nav a:nth-child(3)').classList.remove('active')\n  }\n\n  toggleEpisodes() {\n    this.setState({\n      episodesWrapped: !this.state.episodesWrapped\n    })\n  }\n\n  continue() {\n    this.watch(\n      this.state.season.progress || 0,\n      this.state.episodes[this.state.season.progress - 1].progress || 0\n    )\n  }\n\n  watch(episodeNumber, progress = 0) {\n    this.setState({\n      currentEpisodeNumber: episodeNumber\n    })\n\n    this.props.updateSeason({\n      id: this.state.season.id,\n      lastWatched: new Date().getTime(),\n      progress: episodeNumber\n    })\n\n    const player = document.querySelector('.PlyrPlayer')\n    const plyr = player.querySelector('#player').plyr\n    player.dataset.preventExit = true\n    // Wait until Plyr is ready to start playing after the sources changed\n    setTimeout(() => {\n      player.style.display = 'block'\n      plyr.fullscreen.enter()\n      plyr.play()\n      plyr.currentTime = progress\n      setTimeout(() => { delete player.dataset.preventExit}, 100) // Fixing #232\n    }, 100)\n  }\n\n  stoppedEpisode() {\n    // this.forceUpdate()\n  }\n\n  finishedEpisode() {\n    this.props.updateEpisode({\n      id: this.state.episodes[this.state.currentEpisodeNumber - 1].id,\n      progress: 0\n    })\n\n    let episodeNumber = 0\n    if (\n      this.state.episodes[this.state.currentEpisodeNumber].files\n        .filter(file => file.type === FILE_TYPES.SOURCE).length > 0\n    ) {\n      episodeNumber = this.state.currentEpisodeNumber + 1\n    }\n\n    this.props.updateSeason({\n      id: this.state.season.id,\n      progress: episodeNumber\n    })\n\n    // this.forceUpdate()\n  }\n\n  render() {\n    if (this.state.season) {\n      return (\n        <div className='Season'>\n          {this.state.watchableEpisodes.length > 0 && <PlyrPlayer item={this.state.episodes[this.state.currentEpisodeNumber - 1]} updateItemAction={this.props.updateEpisode} exitedAction={this.stoppedEpisode.bind(this)} endedAction={this.finishedEpisode.bind(this)} />}\n          <Backdrop url={showSelector(this.state.season.showId)({ shows: this.props.shows }).backdropUrl} />\n          <div className='Season__details'>\n            <Cover url={this.state.season.posterUrl} alt='poster' width='50%' />\n            <h1>Season {this.state.season.seasonNumber}</h1>\n            <div className='Season__information'>\n              <p className='small'>{showSelector(this.state.season.showId)({ shows: this.props.shows }).name}</p>\n              <p className='small'>{new Date(this.state.season.airDate).getFullYear()}</p>\n            </div>\n            <div className='Season__actions'>\n              {this.state.watchableEpisodes.length > 0 && this.state.movie.progress !== undefined && this.state.season.progress !== 0 && <button className='primary' id='continue' onClick={this.continue.bind(this)}>Continue episode {this.state.season.progress}</button>}\n              {this.state.watchableEpisodes.length > 0 && this.state.season.progress !== 1 && <button className={this.state.movie.progress === undefined || this.state.season.progress === 0 ? 'primary' : ''} id='watch' onClick={() => this.watch(this.state.watchableEpisodes[0].episodeNumber)}>Watch episode {this.state.watchableEpisodes[0].episodeNumber}</button>}\n              <a className='button' id='trailer' href={this.state.season.trailerLink} target='_blank' rel='noopener noreferrer'>Play trailer</a>\n            </div>\n            <div className='Season__episodes'>\n              <div>\n                {this.state.episodes\n                  .sort((a, b) => (a.episodeNumber < b.episodeNumber) ? -1 : 1)\n                  .slice(\n                    0,\n                    this.state.episodesWrapped ? 0 : this.state.episodes.length\n                  )\n                  .map((episode, index) => {\n                    return (\n                      <div disabled={this.state.episodes[episode.episodeNumber - 1].provider === undefined || this.state.episodes[episode.episodeNumber - 1].files.filter(file => file.type === FILE_TYPES.SOURCE).length === 0} className='Season__episode' onClick={() => this.watch(episode.episodeNumber)} key={index}>\n                        <div className='Season__episode__number'>{episode.episodeNumber}</div>\n                        <div className='Season__episode__details'>\n                          <h2>{episode.name}</h2>\n                          <p className='small'>Aired {new Date(episode.airDate).toDateString()}</p>\n                          <p>{episode.overview}</p>\n                        </div>\n                      </div>\n                    )\n                  })}\n              </div>\n              {this.state.episodes.length > 0 && <span onClick={this.toggleEpisodes.bind(this)}>{this.state.episodesWrapped ? 'Show all episodes' : 'Hide episodes'}</span>}\n            </div>\n            <p className='Season__overview'>{this.state.season.overview}</p>\n            <div className='Season__people'>\n              <div className='Season__people__cast'>\n                <h4>Starring</h4>\n                <PersonList people={this.state.season.cast} attribute='character' />\n              </div>\n              <div className='Season__people__crew'>\n                <h4>Crew</h4>\n                <PersonList people={this.state.season.crew} attribute='job' />\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      return <NotFound />\n    }\n  }\n}\n\nexport default connect(\n  state => ({\n    shows: state.shows,\n    seasons: state.seasons,\n    episodes: state.episodes\n  }),\n  { updateSeason, updateEpisode }\n)(Season)\n","import { createSelector } from 'reselect'\n\nimport {\n  moviesCastMemberSelector,\n  moviesCrewMemberSelector\n} from '../selectors/movies'\nimport {\n  seasonsCastMemberSelector,\n  seasonsCrewMemberSelector\n} from '../selectors/seasons'\n\nexport const personSelector = id => {\n  return createSelector(\n    moviesCastMemberSelector(id),\n    moviesCrewMemberSelector(id),\n    seasonsCastMemberSelector(id),\n    seasonsCrewMemberSelector(id),\n    (moviesCast, moviesCrew, seasonsCast, seasonsCrew) => {\n      return [...moviesCast, ...moviesCrew, ...seasonsCast, ...seasonsCrew][0]\n    }\n  )\n}\n\nexport const personRolesSelector = (id, gender) => {\n  return createSelector(\n    moviesCastMemberSelector(id),\n    moviesCrewMemberSelector(id),\n    seasonsCastMemberSelector(id),\n    seasonsCrewMemberSelector(id),\n    (moviesCast, moviesCrew, seasonsCast, seasonsCrew) => {\n      return [\n        ...new Set([\n          ((moviesCast.length > 0 || seasonsCast.length > 0) ?\n            (gender === 1 ? 'Actress' : 'Actor') : null),\n          ...moviesCrew.map(crewMember => crewMember.job),\n          ...seasonsCrew.map(crewMember => crewMember.job)\n        ])\n      ].filter(role => role !== null)\n    }\n  )\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './Person.scss'\n\nimport NotFound from './NotFound'\n\nimport Backdrop from '../components/Backdrop'\nimport Cover from '../components/Cover'\nimport HorizontalSlide from '../components/HorizontalSlide'\n\nimport { moviesByPersonSelector } from '../selectors/movies'\nimport { seasonsByPersonSelector } from '../selectors/seasons'\nimport { personSelector, personRolesSelector } from '../selectors/people'\n\nclass Person extends Component {\n  constructor(props) {\n    super(props)\n\n    const id = Number.parseInt(this.props.match.params.id)\n\n    this.state = {\n      person: personSelector(id)({\n        movies: this.props.movies,\n        seasons: this.props.seasons\n      }),\n      movies: moviesByPersonSelector(id)({ movies: this.props.movies }),\n      seasons: seasonsByPersonSelector(id)({ seasons: this.props.seasons })\n    }\n    this.state.roles = personRolesSelector(id, this.state.person.gender)({\n      movies: this.props.movies,\n      seasons: this.props.seasons\n    })\n  }\n\n  render() {\n    if (this.state.person) {\n      return (\n        <div className='Person'>\n          <Backdrop url={(this.state.movies[0] || this.props.shows[this.state.seasons[0].showId]).backdropUrl} />\n          <div className='Person__details'>\n            <Cover url={this.state.person.profileUrl} alt='profile' width='50%' />\n            <h1>{this.state.person.name}</h1>\n            <h5>Known as</h5>\n            <p>{this.state.roles.join(', ')}</p>\n          </div>\n\n          {this.state.movies.length > 0 && <section>\n            <h2>Movies</h2>\n            <HorizontalSlide items={this.state.movies} id='movies' />\n          </section>}\n\n          {this.state.seasons.length > 0 && <section>\n            <h2>TV seasons</h2>\n            <HorizontalSlide items={this.state.seasons} id='seasons' />\n          </section>}\n        </div>\n      )\n    } else {\n      return <NotFound />\n    }\n  }\n}\n\nexport default connect(\n  state => ({\n    movies: state.movies,\n    shows: state.shows,\n    seasons: state.seasons\n  })\n)(Person)\n","import React from 'react'\n\nexport default props => (\n  <svg height={props.height} width={props.width} viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n  \t<title>e add</title>\n  \t<g fill=\"#ffffff\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"3\">\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" x1=\"16\" x2=\"16\" y1=\"2\" y2=\"30\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" x1=\"30\" x2=\"2\" y1=\"16\" y2=\"16\"/>\n  \t</g>\n  </svg>\n)\n","import React from 'react'\n\nexport default props => (\n  <svg height={props.height} width={props.width} viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n  \t<title>logo dropbox 2</title>\n  \t<g fill=\"#ffffff\">\n  \t\t<polygon fill=\"#ffffff\" points=\"9.41319,1.11824 0,7.26432 6.50879,12.47649 15.99985,6.61586 \"/>\n  \t\t<polygon fill=\"#ffffff\" points=\"0,17.68899 9.41319,23.83504 15.99985,18.33712 6.50879,12.47649 \"/>\n  \t\t<polygon fill=\"#ffffff\" points=\"15.99985,18.33712 22.58681,23.83504 32,17.68899 25.49121,12.47649 \"/>\n  \t\t<polygon fill=\"#ffffff\" points=\"32,7.26432 22.58681,1.11824 15.99985,6.61586 25.49121,12.47649 \"/>\n  \t\t<polygon points=\"16.01932,19.51992 9.41319,25.00165 6.58635,23.15606 6.58635,25.22512 16.01932,30.88176 25.45226,25.22512 25.45226,23.15606 22.62543,25.00165 \"/>\n  \t</g>\n  </svg>\n)\n","import React from 'react'\n\nexport default props => (\n  <svg height={props.height} width={props.width} viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n  \t<title>google 2</title>\n  \t<g fill=\"#ffffff\">\n  \t\t<path d=\"M30.383,13.273H16.065v6.136H24.18c-1.3,4.091-4.5,5.455-8.18,5.455a8.864,8.864,0,1,1,5.691-15.65L26.15,4.967A15,15,0,1,0,16,31C24.271,31,31.747,25.545,30.383,13.273Z\" fill=\"#ffffff\"/>\n  \t</g>\n  </svg>\n)\n","import React from 'react'\n\nexport default props => (\n  <svg height={props.height} width={props.width} viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\">\n  \t<title>microsoft</title>\n  \t<g fill=\"#ffffff\">\n  \t\t<rect height=\"14\" width=\"14\" fill=\"#ffffff\" x=\"1\" y=\"1\"/>\n  \t\t<rect height=\"14\" width=\"14\" x=\"17\" y=\"1\"/>\n  \t\t<rect height=\"14\" width=\"14\" x=\"1\" y=\"17\"/>\n  \t\t<rect height=\"14\" width=\"14\" fill=\"#ffffff\" x=\"17\" y=\"17\"/>\n  \t</g>\n  </svg>\n)\n","import React, { Component } from 'react'\nimport './Banner.scss'\n\nclass Banner extends Component {\n  render() {\n    return (\n      <div className='Banner'>\n        <h2>{this.props.title}</h2>\n        <p>{this.props.text}</p>\n        {this.props.linkUrl && <a href={this.props.linkUrl} target='_blank' rel='noopener noreferrer'>{this.props.linkText || 'Help'}</a>}\n      </div>\n    )\n  }\n}\n\nexport default Banner\n","import { createSelector } from 'reselect'\n\nconst authSelector = state => state.auth\n\nexport const authProviderSelector = provider => {\n  return createSelector(\n    authSelector,\n    auth => auth[provider]\n  )\n}\n\nexport const authTokenSelector = provider => {\n  return createSelector(\n    authProviderSelector(provider),\n    authProvider => authProvider.token\n  )\n}\n\nexport const authError = () => {\n  return createSelector(\n    authSelector,\n    auth => Object.keys(auth).some(provider => auth[provider].error !== null)\n  )\n}\n\nexport const authProviderError = provider => {\n  return createSelector(\n    authSelector,\n    auth => auth[provider].error !== null\n  )\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './Settings.scss'\n\nimport { VERSION, PROVIDERS, AUTOMATIC_INDEXING } from '../constants'\n\nimport { authenticateMicrosoft } from '../actions/auth'\nimport { index } from '../actions/indexing'\nimport { updateSettings } from '../actions/settings'\n\nimport AddIcon from '../components/Nucleo/icons/add.jsx'\nimport DropboxIcon from '../components/Nucleo/icons/dropbox.jsx'\nimport GoogleIcon from '../components/Nucleo/icons/google.jsx'\nimport MicrosoftIcon from '../components/Nucleo/icons/microsoft.jsx'\n\nimport Banner from '../components/Banner'\n\nimport {\n  authTokenSelector,\n  authError,\n  authProviderError\n} from '../selectors/auth'\n\nclass Settings extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      newVersionAvailable: window.newVersionAvailable,\n      notAuthenticated: Object.values(PROVIDERS).filter(provider => {\n        return this.props.auth[provider].token !== null\n      }).length === 0,\n      authenticationExpired: authError()({ auth: this.props.auth }),\n      noMediaFound: Object.entries(this.props.movies).length === 0 &&\n        Object.entries(this.props.shows).length === 0\n    }\n  }\n\n  componentDidMount() {\n    document.querySelector('.Nav a:last-child').classList.add('active')\n  }\n\n  componentWillUnmount() {\n    document.querySelector('.Nav a:last-child').classList.remove('active')\n  }\n\n  index() {\n    this.props.index()\n  }\n\n  handleAutomaticIndexingChange(event) {\n    this.props.updateSettings({\n      ...this.props.settings,\n      automaticIndexing: event.target.value\n    })\n  }\n\n  render() {\n    return (\n      <div className='Settings'>\n        {this.state.newVersionAvailable && <Banner title='Update available!' text='Restart the app to apply the changes.' />}\n        {this.state.notAuthenticated && <Banner title='Authenticate with cloud service' text='To get started, authenticate with the cloud service that hosts your media.' />}\n        {this.state.noMediaFound && <Banner title='No media found!' text=\"We indexed all your authenticated services, but weren't able to find any source files.\" linkText='Getting started with Plaain' linkUrl='https://github.com/jonhue/plaain#getting-started' />}\n        {this.state.authenticationExpired && <Banner title='Authentication expired!' text='Reauthenticate with the failing service.' />}\n\n        <section className='Settings__auth'>\n          <h2>Authentication</h2>\n          <p>Sign into your cloud to add your movies and TV shows to your library.</p>\n          <div className='Settings__auth__scroll'>\n            <div className='Settings__auth__flex'>\n              <button className={`microsoft ${authTokenSelector(PROVIDERS.MICROSOFT)({ auth: this.props.auth }) && 'primary'} ${authProviderError(PROVIDERS.MICROSOFT)({ auth: this.props.auth }) && 'warn'}`} onClick={this.props.authenticateMicrosoft}>\n                <MicrosoftIcon width={32} height={32} />\n              </button>\n              <button disabled className='dropbox'>\n                <DropboxIcon width={32} height={32} />\n              </button>\n              <button disabled className='google'>\n                <GoogleIcon width={32} height={32} />\n              </button>\n              <a className='button' href='https://github.com/jonhue/plaain' target='_blank' rel='noopener noreferrer'>\n                <AddIcon width={32} height={32} />\n              </a>\n            </div>\n          </div>\n        </section>\n\n        <section className='Settings__indexing'>\n          <h2>Indexing</h2>\n          <p>Index to look for new media on your linked services and to fetch the latest metadata.</p>\n          <button onClick={this.index.bind(this)}>\n            Index\n          </button>\n          <h5>Automatic indexing</h5>\n          <p>Index automatically when you launch Plaain after a given time has passed.</p>\n          <select value={this.props.settings.automaticIndexing} onChange={this.handleAutomaticIndexingChange.bind(this)}>\n            <option value={AUTOMATIC_INDEXING.NEVER}>Never</option>\n            <option value={AUTOMATIC_INDEXING.MONTHLY}>Monthly</option>\n            <option value={AUTOMATIC_INDEXING.DAILY}>Daily</option>\n            <option value={AUTOMATIC_INDEXING.ALWAYS}>Always</option>\n          </select>\n        </section>\n\n        <section className='Settings__version'>\n          <h2>Version</h2>\n          <p>Plaain {VERSION}{!window.newVersionAvailable && ' (latest)'}.</p>\n          <p className='small'>\n            Plaain is <a href='https://github.com/jonhue/plaain' target='_blank' rel='noopener noreferrer'>open-source</a>. See the <a href='https://github.com/jonhue/plaain/releases' target='_blank' rel='noopener noreferrer'>changelog</a>.\n          </p>\n          <p className='small'>Note that Plaain may <span className='bold'>not</span> be used to stream pirated content or publicly share your private media library. You may only connect to your private cloud storage.</p>\n        </section>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n    auth: state.auth,\n    settings: state.settings,\n    movies: state.movies,\n    shows: state.shows\n  }),\n  { authenticateMicrosoft, index, updateSettings }\n)(Settings)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport FlexSearch from 'flexsearch'\nimport './Find.scss'\n\nimport HorizontalSlide from '../components/HorizontalSlide'\n\nclass Find extends Component {\n  constructor(props) {\n    super(props)\n\n    this.moviesIndex = new FlexSearch()\n    Object.values(this.props.movies).forEach(movie => {\n      this.moviesIndex.add(movie.id, `${movie.name};${movie.overview}`)\n    })\n    this.showsIndex = new FlexSearch()\n    Object.values(this.props.shows).forEach(show => {\n      this.showsIndex.add(show.id, `${show.name};${show.overview}`)\n    })\n\n    this.state = {\n      query: new URLSearchParams(this.props.location.search).get('q') || '',\n      movies: [],\n      shows: [],\n    }\n  }\n\n  componentDidMount() {\n    this.search(new URLSearchParams(this.props.location.search).get('q'))\n  }\n\n  search(query) {\n    this.setState({\n      query: query || '',\n      movies: this.moviesIndex.search(query || '')\n        .map(result => this.props.movies[result]),\n      shows: this.showsIndex.search(query || '')\n        .map(result => this.props.shows[result])\n    })\n  }\n\n  handleInputChange(event) {\n    this.props.history.replace(`/app/find?q=${event.target.value}`)\n    this.search(event.target.value)\n  }\n\n  render() {\n    return (\n      <div className='Find'>\n        <form>\n          <input autoFocus value={this.state.query} placeholder=\"Search your library\" onChange={this.handleInputChange.bind(this)} />\n        </form>\n\n        {this.state.movies.length > 0 && <section>\n          <h2>Movies</h2>\n          <HorizontalSlide items={this.state.movies} id='movies' />\n        </section>}\n\n        {this.state.shows.length > 0 && <section>\n          <h2>TV shows</h2>\n          <HorizontalSlide items={this.state.shows} id='shows' />\n        </section>}\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n    movies: state.movies,\n    shows: state.shows\n  })\n)(Find)\n","import React from 'react'\n\nexport default props => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={props.width} height={props.height}>\n    <path fill=\"none\" strokeMiterlimit=\"10\" d=\"M2.5 26.5h4l4-6 8 20 10-32 8 26 6-8h4\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"3\" stroke=\"#ff2fc1\" className=\"unPUVPIZ_0\"></path>\n    <style data-made-with=\"vivus-instant\">{`.unPUVPIZ_0{stroke-dasharray:108 110;stroke-dashoffset:109;animation:unPUVPIZ_draw_0 750ms ease-in-out 0ms infinite,unPUVPIZ_fade 750ms linear 0ms infinite;}@keyframes unPUVPIZ_draw{100%{stroke-dashoffset:0;}}@keyframes unPUVPIZ_fade{0%{stroke-opacity:1;}100%{stroke-opacity:1;}100%{stroke-opacity:0;}}@keyframes unPUVPIZ_draw_0{0%{stroke-dashoffset: 109}66.66666666666666%{ stroke-dashoffset: 0;}100%{ stroke-dashoffset: 0;}}`}</style>\n  </svg>\n)\n","import React, { Component } from 'react'\nimport './Loading.scss'\n\nimport SoundWaveIcon from '../components/Nucleo/icons/soundWave.jsx'\n\nclass Loading extends Component {\n  render() {\n    return (\n      <div className='Loading'>\n        <div className='Loading__wrapper'>\n          <SoundWaveIcon width={48} height={48} />\n          {this.props.caption && <p className='small'>{this.props.caption}</p>}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Loading\n","import React from 'react'\n\nexport default props => (\n  <svg height={props.height} width={props.width} viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n  \t<title>popcorn</title>\n  \t<g fill=\"#ffffff\">\n  \t\t<polygon fill=\"none\" points=\"21 7 3 7 5 23 19 23 21 7\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\"/>\n  \t\t<path d=\"M19,5a3,3,0,0,0-3-3,2.97,2.97,0,0,0-1.47.4,2.986,2.986,0,0,0-5.06,0A2.97,2.97,0,0,0,8,2,3,3,0,0,0,5,5\" fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"9\" x2=\"8\" y1=\"23\" y2=\"7\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"15\" x2=\"16\" y1=\"23\" y2=\"7\"/>\n  \t</g>\n  </svg>\n)\n","import React from 'react'\n\nexport default props => (\n  <svg height={props.height} width={props.width} viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n  \t<title>movie 61</title>\n  \t<g fill=\"#ffffff\">\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"1\" x2=\"1\" y1=\"1\" y2=\"23\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"23\" x2=\"23\" y1=\"1\" y2=\"23\"/>\n  \t\t<rect height=\"22\" width=\"14\" fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x=\"5\" y=\"1\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"1\" x2=\"23\" y1=\"12\" y2=\"12\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"1\" x2=\"5\" y1=\"8\" y2=\"8\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"1\" x2=\"5\" y1=\"4\" y2=\"4\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"19\" x2=\"23\" y1=\"8\" y2=\"8\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"19\" x2=\"23\" y1=\"4\" y2=\"4\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"19\" x2=\"23\" y1=\"20\" y2=\"20\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"19\" x2=\"23\" y1=\"16\" y2=\"16\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"1\" x2=\"5\" y1=\"20\" y2=\"20\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"1\" x2=\"5\" y1=\"16\" y2=\"16\"/>\n  \t</g>\n  </svg>\n)\n","import React from 'react'\n\nexport default props => (\n  <svg height={props.height} width={props.width} viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n  \t<title>desktop screen</title>\n  \t<g fill=\"#ffffff\">\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"12\" x2=\"12\" y1=\"22\" y2=\"18\"/>\n  \t\t<line fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x1=\"6\" x2=\"18\" y1=\"22\" y2=\"22\"/>\n  \t\t<rect height=\"16\" width=\"22\" fill=\"none\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\" x=\"1\" y=\"2\"/>\n  \t</g>\n  </svg>\n)\n","import React from 'react'\n\nexport default props => (\n  <svg height={props.height} width={props.width} viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n  \t<title>settings gear</title>\n  \t<g fill=\"#ffffff\" stroke=\"#ffffff\" strokeLinecap=\"round\" strokeWidth=\"2\">\n  \t\t<circle cx=\"12\" cy=\"12\" fill=\"none\" r=\"3\"/>\n  \t\t<path d=\"M20,12a8.049,8.049,0,0,0-.188-1.713l2.714-2.055-2-3.464L17.383,6.094a7.987,7.987,0,0,0-2.961-1.719L14,1H10L9.578,4.375A7.987,7.987,0,0,0,6.617,6.094L3.474,4.768l-2,3.464,2.714,2.055a7.9,7.9,0,0,0,0,3.426L1.474,15.768l2,3.464,3.143-1.326a7.987,7.987,0,0,0,2.961,1.719L10,23h4l.422-3.375a7.987,7.987,0,0,0,2.961-1.719l3.143,1.326,2-3.464-2.714-2.055A8.049,8.049,0,0,0,20,12Z\" fill=\"none\" stroke=\"#ffffff\"/>\n  \t</g>\n  </svg>\n)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport './Nav.scss'\n\nimport PopcornIcon from './Nucleo/icons/popcorn.jsx'\nimport MovieIcon from './Nucleo/icons/movie.jsx'\nimport ShowIcon from './Nucleo/icons/show.jsx'\nimport GearIcon from './Nucleo/icons/gear.jsx'\n\nclass Nav extends Component {\n  render() {\n    return (\n      <div className='Nav'>\n        <Link to='/app'>\n          <PopcornIcon width={24} height={24} />\n          <p>For you</p>\n        </Link>\n        <Link disabled={Object.entries(this.props.movies).length === 0} to='/app/movies'>\n          <MovieIcon width={24} height={24} />\n          <p>Movies</p>\n        </Link>\n        <Link disabled={Object.entries(this.props.shows).length === 0} to='/app/shows'>\n          <ShowIcon width={24} height={24} />\n          <p>Shows</p>\n        </Link>\n        <Link to='/app/settings'>\n          <GearIcon width={24} height={24} />\n          <p>Settings</p>\n        </Link>\n      </div>\n    )\n  }\n}\n\nexport default connect(\n  state => ({\n    movies: state.movies,\n    shows: state.shows\n  })\n)(Nav)\n","import React, { Component } from 'react'\nimport { Redirect, Route, Switch } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport './App.scss'\n\nimport { index } from './actions/indexing'\n\nimport AutomaticIndexing from './services/AutomaticIndexing'\nimport IndexAfterUpdate from './services/IndexAfterUpdate'\nimport MicrosoftAuth from './services/auth/MicrosoftAuth'\n\nimport ForYou from './scenes/ForYou'\nimport Movies from './scenes/Movies'\nimport Movie from './scenes/Movie'\nimport Shows from './scenes/Shows'\nimport Show from './scenes/Show'\nimport Season from './scenes/Season'\nimport Person from './scenes/Person'\nimport Settings from './scenes/Settings'\nimport Find from './scenes/Find'\nimport Loading from './scenes/Loading'\nimport NotFound from './scenes/NotFound'\n\nimport Nav from './components/Nav'\n\nimport { authError } from './selectors/auth'\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    // this is required for the login popup to close;\n    // see https://github.com/AzureAD/microsoft-authentication-library-for-js/issues/174\n    new MicrosoftAuth()\n  }\n\n  componentDidMount() {\n    new IndexAfterUpdate(this.props.version, this.props.index).perform() ||\n      new AutomaticIndexing(\n        this.props.automaticIndexing,\n        this.props.lastIndexed,\n        this.props.index\n      ).perform()\n  }\n\n  render() {\n    if (this.props.loading) {\n      return <Loading caption={this.props.loading} />\n    } else {\n      return (\n        <div className='App'>\n          {authError()({ auth: this.props.auth }) && <Redirect to={`${this.props.match.path}/settings`} />}\n\n          <Switch>\n            <Route path={`${this.props.match.path}/`} exact component={ForYou} />\n            <Route path={`${this.props.match.path}/movies`} component={Movies} />\n            <Route path={`${this.props.match.path}/movie/:id`} exact component={Movie} />\n            <Route path={`${this.props.match.path}/shows`} component={Shows} />\n            <Route path={`${this.props.match.path}/show/:id`} exact component={Show} />\n            <Route path={`${this.props.match.path}/season/:id`} exact component={Season} />\n            <Route path={`${this.props.match.path}/person/:id`} exact component={Person} />\n            <Route path={`${this.props.match.path}/settings`} exact component={Settings} />\n            <Route path={`${this.props.match.path}/find`} exact component={Find} />\n            <Route component={NotFound} />\n          </Switch>\n\n          <Nav />\n        </div>\n      )\n    }\n  }\n}\n\nexport default connect(\n  state => ({\n    loading: state.loading,\n    version: state.version,\n    auth: state.auth,\n    lastIndexed: state.indexing.lastIndexed,\n    automaticIndexing: state.settings.automaticIndexing\n  }),\n  { index }\n)(App)\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport './Welcome.scss'\n\nclass Welcome extends Component {\n  render() {\n    return (\n      <div className='Welcome'>\n        <h1>Your movies & TV shows. Anywhere.</h1>\n        <div className='Welcome__details'>\n          <h3>Plaain lets you stream and maintain your media library from anywhere. No server needed, no fee required.</h3>\n          <Link to='/app' className='button primary'>Launch</Link>\n          <a href='https://github.com/jonhue/plaain#getting-started' target='_blank' rel='noopener noreferrer' className='button'>How it works</a>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Welcome\n","import { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nclass ScrollToTop extends Component {\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      window.scrollTo(0, 0)\n    }\n  }\n\n  render() {\n    return this.props.children\n  }\n}\n\nexport default withRouter(ScrollToTop)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nimport { persistStore } from 'redux-persist'\nimport { PersistGate } from 'redux-persist/integration/react'\n\nimport * as serviceWorker from './serviceWorker'\n\nimport App from './App'\nimport Welcome from './scenes/Welcome'\nimport NotFound from './scenes/NotFound'\nimport Loading from './scenes/Loading'\n\nimport ScrollToTop from './components/ScrollToTop'\n\nimport './index.scss'\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={<Loading caption='Loading...' />} persistor={persistStore(store)}>\n      <Router basename='/plaain'>\n        <ScrollToTop>\n          <Switch>\n            <Route path='/' exact component={Welcome} />\n            <Route path='/app' component={App} />\n            <Route component={NotFound} />\n          </Switch>\n        </ScrollToTop>\n      </Router>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register()\n"],"sourceRoot":""}